"use strict";(self.webpackChunkbuzz_smile_official_website_client=self.webpackChunkbuzz_smile_official_website_client||[]).push([[869],{5869:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(5043),l=s(5475),r=s(3216),o=s(579);const n=()=>{const[e]=(0,l.ok)(),t=(0,r.Zp)(),[s,n]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[i,m]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),[x,h]=(0,a.useState)(""),[w,b]=(0,a.useState)("");(0,a.useEffect)(()=>{const t=e.get("token");t&&n(t)},[e]);const f=Boolean(e.get("token"));return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,o.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset your password"})}),(0,o.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsxs)("div",{className:"card p-8 relative z-50",children:[(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),b(""),c.length<6)b("Password must be at least 6 characters");else if(c===i){p(!0);try{const e="http://localhost:5002".replace(/\/$/,""),a=await fetch("".concat(e,"/api/auth/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,password:c})}),l=await a.json();a.ok?(l.token&&localStorage.setItem("token",l.token),h("Password reset successful. Redirecting to login..."),setTimeout(()=>t("/login"),1500)):b(l.message||"Failed to reset password")}catch(a){b("Network error resetting password")}finally{p(!1)}}else b("Passwords do not match")},className:"space-y-6",children:[!f&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reset token"}),(0,o.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value),className:"w-full border-2 rounded-md p-3 bg-white text-black placeholder-gray-500",placeholder:"Paste reset token",required:!0})]}),f&&(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Token detected from reset link."}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New password"}),(0,o.jsx)("input",{type:"password",value:c,autoFocus:!0,onChange:e=>d(e.target.value),className:"w-full border-2 rounded-md p-3 bg-white text-black placeholder-gray-500",placeholder:"New password",required:!0,minLength:6})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm new password"}),(0,o.jsx)("input",{type:"password",value:i,onChange:e=>m(e.target.value),className:"w-full border-2 rounded-md p-3 bg-white text-black placeholder-gray-500",placeholder:"Confirm new password",required:!0,minLength:6})]}),(0,o.jsx)("button",{type:"submit",disabled:u,className:"w-full btn-primary py-3 text-base font-medium disabled:opacity-50",children:u?"Resetting...":"Reset password"})]}),x&&(0,o.jsx)("p",{className:"mt-4 text-green-600",children:x}),w&&(0,o.jsx)("p",{className:"mt-4 text-red-600",children:w})]})})]})}}}]);
//# sourceMappingURL=869.14163c69.chunk.js.map