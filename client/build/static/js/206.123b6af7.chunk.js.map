{"version":3,"file":"static/js/206.123b6af7.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/check.ts","components/VideoThumbnail.js","pages/MyFiles.js","../node_modules/lucide-react/src/icons/pen-line.ts","../node_modules/lucide-react/src/icons/play.ts","../node_modules/lucide-react/src/icons/download.ts","../node_modules/lucide-react/src/icons/wand-2.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/file-video.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport axios from 'axios';\nimport { FileVideo, Play, Trash2, Download, Edit3, Check, X, Share2, Wand2 } from 'lucide-react';\nimport './VideoThumbnail.css';\n\nconst VideoThumbnail = ({ \n  video, \n  onPlay, \n  onDownload, \n  onDelete, \n  onEdit,\n  onSchedule,\n  onProcess,\n  isEditing,\n  editingFilename,\n  setEditingFilename,\n  onSaveEdit,\n  onCancelEdit,\n  className = '' \n}) => {\n  const [thumbnailSrc, setThumbnailSrc] = useState(null);\n  const [showFallback, setShowFallback] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isInView, setIsInView] = useState(true);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [queued, setQueued] = useState(false);\n  const observerRef = useRef(null);\n\n  const thumbnailRef = useCallback(node => {\n    if (observerRef.current) observerRef.current.disconnect();\n    \n    if (node) {\n      observerRef.current = new IntersectionObserver(\n        ([entry]) => {\n          if (entry.isIntersecting) {\n            setIsInView(true);\n            observerRef.current.disconnect();\n          }\n        },\n        { threshold: 0.1 }\n      );\n      observerRef.current.observe(node);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!video || !isInView) return;\n\n    const generateThumbnail = async () => {\n      try {\n        setIsGenerating(true);\n        \n        // Try server-side thumbnail first\n        try {\n          // Resolve API base robustly\n          const rawBase = process.env.REACT_APP_API_URL || axios.defaults.baseURL || '';\n          const trimmed = (rawBase || '').replace(/\\/$/, '');\n          const base = /\\/api$/.test(trimmed) ? trimmed.replace(/\\/api$/, '') : trimmed;\n          let resolvedBase = base;\n          if (!resolvedBase && typeof window !== 'undefined') {\n            const origin = window.location.origin;\n            // Avoid hard-coded dev ports; use current origin when env base is absent\n            resolvedBase = origin;\n          }\n          const thumbnailUrl = `${resolvedBase}/api/videos/${video._id}/thumbnail`;\n          const response = await fetch(thumbnailUrl, {\n            headers: {\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n          });\n\n          if (response.ok) {\n            const blob = await response.blob();\n            const thumbnailDataUrl = URL.createObjectURL(blob);\n            setThumbnailSrc(thumbnailDataUrl);\n            setIsGenerating(false);\n            return;\n          }\n        } catch (serverError) {\n          console.log('Server thumbnail not available, generating client-side...');\n        }\n\n        // Fallback: show a placeholder instead of streaming\n        setShowFallback(true);\n        setIsGenerating(false);\n      } catch (err) {\n        console.error('Error generating thumbnail:', err);\n        setShowFallback(true);\n        setIsGenerating(false);\n      }\n    };\n\n    generateThumbnail();\n  }, [video, isInView]);\n\n  // Revoke any previously created blob URL when it is replaced or on unmount\n  useEffect(() => {\n    return () => {\n      try {\n        if (thumbnailSrc && /^blob:/.test(thumbnailSrc)) {\n          URL.revokeObjectURL(thumbnailSrc);\n        }\n      } catch (_) {}\n    };\n  }, [thumbnailSrc]);\n\n  // Hover state not used; rely on CSS group-hover effects\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const formatDuration = (seconds) => {\n    if (!seconds || seconds <= 0) return '--:--';\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return `${minutes}:${String(remainingSeconds).padStart(2, '0')}`;\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'processing':\n        return <div className=\"w-2 h-2 bg-yellow-500 rounded-full animate-pulse\"></div>;\n      case 'ready':\n      case 'completed':\n        return <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>;\n      case 'failed':\n        return <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>;\n      default:\n        return <div className=\"w-2 h-2 bg-gray-500 rounded-full\"></div>;\n    }\n  };\n\n  if (!video) return null;\n\n  return (\n    <div className={`group bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 ${className}`}>\n      {/* Video Thumbnail Section */}\n      <div \n        ref={thumbnailRef}\n        className=\"relative w-full h-48 cursor-pointer overflow-hidden\"\n        onClick={() => onPlay && onPlay(video)}\n      >\n        {/* Thumbnail Display */}\n        {isGenerating ? (\n          <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          </div>\n        ) : thumbnailSrc ? (\n          <img\n            src={thumbnailSrc}\n            alt={`Thumbnail for ${video.title || video.filename}`}\n            className=\"w-full h-full object-cover\"\n            onError={() => setShowFallback(true)}\n          />\n        ) : showFallback ? (\n          <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\n            <FileVideo className=\"w-12 h-12 text-gray-400\" />\n          </div>\n        ) : (\n          <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\n            <FileVideo className=\"w-12 h-12 text-gray-400\" />\n          </div>\n        )}\n\n        {/* Play Overlay */}\n        <div className={`absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center`}>\n          <Play className={`w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200`} />\n        </div>\n\n        {/* Action Buttons - Top Right */}\n        <div className=\"absolute top-2 right-2 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n          {onProcess && video.status === 'ready' && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                if (typeof onProcess === 'function') {\n                  onProcess(video);\n                  return;\n                }\n                if (isProcessing || queued) return;\n                setIsProcessing(true);\n                const token = localStorage.getItem('token');\n                const rawBase = process.env.REACT_APP_API_URL || axios.defaults.baseURL || '';\n                const trimmed = (rawBase || '').replace(/\\/$/, '');\n                const base = /\\/api$/.test(trimmed) ? trimmed.replace(/\\/api$/, '') : trimmed;\n                const originFallback = (typeof window !== 'undefined') ? window.location.origin : '';\n                const devOverride = originFallback.includes('localhost:3000') ? 'http://localhost:5000' : originFallback;\n                const apiBase = base || devOverride;\n                axios.post(`${apiBase}/api/videos/${video._id}/process`, { editingOptions: {} }, {\n                  headers: { Authorization: `Bearer ${token}` }\n                })\n                .then(() => {\n                  setQueued(true);\n                })\n                .catch(() => {})\n                .finally(() => setIsProcessing(false));\n              }}\n              className=\"px-2 py-1 bg-white/80 text-gray-800 rounded-full border border-gray-300 hover:bg-white transition-colors flex items-center gap-1 shadow-sm\"\n            title=\"Process\"\n            >\n              <Wand2 className=\"w-4 h-4 text-gray-700\" />\n              <span className=\"text-xs font-medium\">{queued ? 'Queued' : isProcessing ? 'Processingâ€¦' : 'Process'}</span>\n            </button>\n          )}\n          {onSchedule && video.status === 'completed' && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                onSchedule(video);\n              }}\n              className=\"p-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-colors\"\n              title=\"Schedule social media post\"\n            >\n              <Share2 className=\"w-4 h-4\" />\n            </button>\n          )}\n          {onDownload && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                onDownload(video);\n              }}\n              className=\"p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors\"\n              title=\"Download video\"\n            >\n              <Download className=\"w-4 h-4\" />\n            </button>\n          )}\n          {onDelete && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                onDelete(video._id);\n              }}\n              className=\"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\"\n              title=\"Delete video\"\n            >\n              <Trash2 className=\"w-4 h-4\" />\n            </button>\n          )}\n        </div>\n\n        {/* Status Indicator - Bottom Left */}\n        <div className=\"absolute bottom-2 left-2\">\n          {getStatusIcon(video.status)}\n        </div>\n      </div>\n\n      {/* Video Info Section */}\n      <div className=\"p-4\">\n        {/* Title Section */}\n        {isEditing ? (\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <input\n              type=\"text\"\n              value={editingFilename}\n              onChange={(e) => setEditingFilename(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') onSaveEdit();\n                if (e.key === 'Escape') onCancelEdit();\n              }}\n              className=\"flex-1 text-sm font-medium text-gray-900 bg-white border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              autoFocus\n            />\n            <button\n              onClick={onSaveEdit}\n              className=\"p-1 text-green-600 hover:text-green-700\"\n              title=\"Save\"\n            >\n              <Check className=\"w-4 h-4\" />\n            </button>\n            <button\n              onClick={onCancelEdit}\n              className=\"p-1 text-red-600 hover:text-red-700\"\n              title=\"Cancel\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-between mb-2\">\n            <h3 className=\"text-sm font-medium text-gray-900 truncate flex-1 leading-tight\">\n              {video.title || video.filename || 'Untitled Video'}\n            </h3>\n            {onEdit && (\n              <button\n                onClick={() => onEdit(video)}\n                className=\"ml-2 p-1 text-gray-400 hover:text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity\"\n                title=\"Edit title\"\n              >\n                <Edit3 className=\"w-4 h-4\" />\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Video Details */}\n        <div className=\"flex items-center justify-between text-xs text-gray-500\">\n          <span>{formatDuration(video.duration)}</span>\n          <span>{formatFileSize(video.fileSize || video.size)}</span>\n        </div>\n\n        {/* Status */}\n        <div className=\"mt-2 flex items-center justify-between\">\n          <span className=\"text-xs text-gray-500 capitalize\">\n            {video.status || 'unknown'}\n          </span>\n          <span className=\"text-xs text-gray-400\">\n            {new Date(video.createdAt).toLocaleDateString()}\n          </span>\n        </div>\n      </div>\n\n      {/* Client-side stream fallback removed to avoid background requests that cause ERR_ABORTED logs */}\n    </div>\n  );\n};\n\nexport default VideoThumbnail;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useStats } from '../contexts/StatsContext';\nimport VideoThumbnail from '../components/VideoThumbnail';\n\nexport default function MyFiles() {\n  const { token, user } = useAuth();\n  const { stats } = useStats();\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n    const fetchVideos = async () => {\n      try {\n        const res = await axios.get('/api/videos', { headers: { Authorization: `Bearer ${token}` } });\n        let videosData = [];\n        if (Array.isArray(res.data)) {\n          videosData = res.data;\n        } else if (res.data && Array.isArray(res.data.videos)) {\n          videosData = res.data.videos;\n        } else if (res.data && res.data.data && Array.isArray(res.data.data)) {\n          videosData = res.data.data;\n        }\n        if (mounted) setVideos(videosData);\n      } catch (e) {\n        if (mounted) setVideos([]);\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    fetchVideos();\n    return () => { mounted = false; };\n  }, [token]);\n\n  return (\n    <div className=\"md:ml-56 lg:ml-64\" style={{ marginTop: 'calc(var(--dashboard-header-bottom, 64px) + 12px)' }}>\n      <div className=\"px-6 pb-12\">\n        <h2 className=\"text-white text-xl font-semibold mb-4\">{user?.name ? `${user.name}'s Videos` : 'My Files'}</h2>\n        {loading ? (\n          <div className=\"text-white/70\">Loading your files...</div>\n        ) : !Array.isArray(videos) || videos.length === 0 ? (\n          <div className=\"text-white/70\">No videos uploaded yet.</div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {videos.map((v) => (\n              <VideoThumbnail key={v._id || v.id} video={v} stats={stats} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuNSAzLjVhMi4xMiAyLjEyIDAgMCAxIDMgM0w3IDE5bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  ['path', { d: 'M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z', key: 'ymcmye' }],\n]);\n\nexport default PenLine;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjUgMyAxOSAxMiA1IDIxIDUgMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('Play', [\n  ['polygon', { points: '5 3 19 12 5 21 5 3', key: '191637' }],\n]);\n\nexport default Play;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wand2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNjQgMy42NC0xLjI4LTEuMjhhMS4yMSAxLjIxIDAgMCAwLTEuNzIgMEwyLjM2IDE4LjY0YTEuMjEgMS4yMSAwIDAgMCAwIDEuNzJsMS4yOCAxLjI4YTEuMiAxLjIgMCAwIDAgMS43MiAwTDIxLjY0IDUuMzZhMS4yIDEuMiAwIDAgMCAwLTEuNzJaIiAvPgogIDxwYXRoIGQ9Im0xNCA3IDMgMyIgLz4KICA8cGF0aCBkPSJNNSA2djQiIC8+CiAgPHBhdGggZD0iTTE5IDE0djQiIC8+CiAgPHBhdGggZD0iTTEwIDJ2MiIgLz4KICA8cGF0aCBkPSJNNyA4SDMiIC8+CiAgPHBhdGggZD0iTTIxIDE2aC00IiAvPgogIDxwYXRoIGQ9Ik0xMSAzSDkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/wand-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wand2 = createLucideIcon('Wand2', [\n  [\n    'path',\n    {\n      d: 'm21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z',\n      key: '1bcowg',\n    },\n  ],\n  ['path', { d: 'm14 7 3 3', key: '1r5n42' }],\n  ['path', { d: 'M5 6v4', key: 'ilb8ba' }],\n  ['path', { d: 'M19 14v4', key: 'blhpug' }],\n  ['path', { d: 'M10 2v2', key: '7u0qdc' }],\n  ['path', { d: 'M7 8H3', key: 'zfb6yr' }],\n  ['path', { d: 'M21 16h-4', key: '1cnmox' }],\n  ['path', { d: 'M11 3H9', key: '1obp7u' }],\n]);\n\nexport default Wand2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileVideo\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Im0xMCAxMSA1IDMtNSAzdi02WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/file-video\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileVideo = createLucideIcon('FileVideo', [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'm10 11 5 3-5 3v-6Z', key: '7ntvm4' }],\n]);\n\nexport default FileVideo;\n"],"names":["Check","createLucideIcon","d","key","_ref","video","onPlay","onDownload","onDelete","onEdit","onSchedule","onProcess","isEditing","editingFilename","setEditingFilename","onSaveEdit","onCancelEdit","className","thumbnailSrc","setThumbnailSrc","useState","showFallback","setShowFallback","isGenerating","setIsGenerating","isInView","setIsInView","isProcessing","setIsProcessing","queued","setQueued","observerRef","useRef","thumbnailRef","useCallback","node","current","disconnect","IntersectionObserver","_ref2","entry","isIntersecting","threshold","observe","useEffect","async","trimmed","process","replace","resolvedBase","test","window","location","origin","thumbnailUrl","concat","_id","response","fetch","headers","localStorage","getItem","ok","blob","thumbnailDataUrl","URL","createObjectURL","serverError","console","log","err","error","generateThumbnail","revokeObjectURL","_","_jsxs","children","ref","onClick","_jsx","src","alt","title","filename","onError","FileVideo","Play","status","e","stopPropagation","token","base","originFallback","devOverride","includes","apiBase","axios","post","editingOptions","Authorization","then","catch","finally","Wand2","Share2","Download","Trash2","getStatusIcon","type","value","onChange","target","onKeyDown","autoFocus","X","Edit3","seconds","minutes","Math","floor","remainingSeconds","String","padStart","formatDuration","duration","bytes","i","parseFloat","pow","toFixed","formatFileSize","fileSize","size","Date","createdAt","toLocaleDateString","MyFiles","user","useAuth","stats","useStats","videos","setVideos","loading","setLoading","mounted","res","get","videosData","Array","isArray","data","fetchVideos","style","marginTop","name","length","map","v","VideoThumbnail","id","PenLine","points","x1","x2","y1","y2"],"sourceRoot":""}