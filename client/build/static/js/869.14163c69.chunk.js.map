{"version":3,"file":"static/js/869.14163c69.chunk.js","mappings":"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","sources":["pages/ResetPassword.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\n\nconst ResetPassword = () => {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [token, setToken] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const t = searchParams.get('token');\n    if (t) setToken(t);\n  }, [searchParams]);\n\n  const hasUrlToken = Boolean(searchParams.get('token'));\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage('');\n    setError('');\n    if (password.length < 6) { setError('Password must be at least 6 characters'); return; }\n    if (password !== confirm) { setError('Passwords do not match'); return; }\n    setLoading(true);\n    try {\n      const base = (process.env.REACT_APP_API_URL || '').replace(/\\/$/, '');\n      const res = await fetch(`${base}/api/auth/reset`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ token, password })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        if (data.token) localStorage.setItem('token', data.token);\n        setMessage('Password reset successful. Redirecting to login...');\n        setTimeout(() => navigate('/login'), 1500);\n      } else {\n        setError(data.message || 'Failed to reset password');\n      }\n    } catch (err) {\n      setError('Network error resetting password');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-bold text-gray-900\">Reset your password</h2>\n      </div>\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"card p-8 relative z-50\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {!hasUrlToken && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Reset token</label>\n                <input type=\"text\" value={token} onChange={(e)=>setToken(e.target.value)} className=\"w-full border-2 rounded-md p-3 bg-white text-black placeholder-gray-500\" placeholder=\"Paste reset token\" required />\n              </div>\n            )}\n            {hasUrlToken && (\n              <div className=\"text-sm text-gray-600\">Token detected from reset link.</div>\n            )}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">New password</label>\n              <input type=\"password\" value={password} autoFocus onChange={(e)=>setPassword(e.target.value)} className=\"w-full border-2 rounded-md p-3 bg-white text-black placeholder-gray-500\" placeholder=\"New password\" required minLength={6} />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Confirm new password</label>\n              <input type=\"password\" value={confirm} onChange={(e)=>setConfirm(e.target.value)} className=\"w-full border-2 rounded-md p-3 bg-white text-black placeholder-gray-500\" placeholder=\"Confirm new password\" required minLength={6} />\n            </div>\n            <button type=\"submit\" disabled={loading} className=\"w-full btn-primary py-3 text-base font-medium disabled:opacity-50\">{loading ? 'Resetting...' : 'Reset password'}</button>\n          </form>\n          {message && <p className=\"mt-4 text-green-600\">{message}</p>}\n          {error && <p className=\"mt-4 text-red-600\">{error}</p>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResetPassword;"],"names":["ResetPassword","searchParams","useSearchParams","navigate","useNavigate","token","setToken","useState","password","setPassword","confirm","setConfirm","loading","setLoading","message","setMessage","error","setError","useEffect","t","get","hasUrlToken","Boolean","_jsxs","className","children","_jsx","onSubmit","async","e","preventDefault","length","base","process","replace","res","fetch","concat","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","setTimeout","err","type","value","onChange","target","placeholder","required","autoFocus","minLength","disabled"],"sourceRoot":""}