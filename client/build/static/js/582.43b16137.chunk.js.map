{"version":3,"file":"static/js/582.43b16137.chunk.js","mappings":"gOAGe,SAASA,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,IAAgBC,EAAAA,EAAAA,MA+BvB,OA7BAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAQH,EAAaI,IAAI,SAE/B,GAAID,EACF,IAIE,GAHAE,aAAaC,QAAQ,QAASH,GAG1BI,OAAOC,QAA+C,oBAA9BD,OAAOC,OAAOC,YAIxC,OAFAF,OAAOC,OAAOC,YAAY,CAAEC,KAAM,gBAAiBP,SAAS,UAC5DI,OAAOI,QAOTJ,OAAOK,SAASC,KAAO,YACzB,CAAE,MAAOC,GAEPhB,EAAS,SAAU,CAAEiB,SAAS,GAChC,MAGAjB,EAAS,SAAU,CAAEiB,SAAS,KAE/B,CAACjB,EAAUE,KAGZgB,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,IAAKC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,8BACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,yCAGT,C","sources":["pages/AuthSuccess.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nexport default function AuthSuccess() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const token = searchParams.get('token');\n\n    if (token) {\n      try {\n        localStorage.setItem('token', token);\n\n        // If opened as a popup, notify parent and close\n        if (window.opener && typeof window.opener.postMessage === 'function') {\n          // Notify parent window using the expected event type\n          window.opener.postMessage({ type: 'OAUTH_SUCCESS', token }, '*');\n          window.close();\n          return;\n        }\n\n        // Otherwise perform a full page navigation so AuthProvider\n        // re-initializes with the new token from localStorage.\n        // Using window.location ensures a hard reload instead of SPA navigation.\n        window.location.href = '/dashboard';\n      } catch (e) {\n        // If storage fails, just redirect to login\n        navigate('/login', { replace: true });\n      }\n    } else {\n      // No token provided; redirect to login\n      navigate('/login', { replace: true });\n    }\n  }, [navigate, searchParams]);\n\n  return (\n    <div style={{ padding: 24 }}>\n      <h2>Completing sign-in…</h2>\n      <p>You’ll be redirected shortly.</p>\n    </div>\n  );\n}"],"names":["AuthSuccess","navigate","useNavigate","searchParams","useSearchParams","useEffect","token","get","localStorage","setItem","window","opener","postMessage","type","close","location","href","e","replace","_jsxs","style","padding","children","_jsx"],"sourceRoot":""}