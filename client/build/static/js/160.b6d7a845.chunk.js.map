{"version":3,"file":"static/js/160.b6d7a845.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/chevron-left.ts","../node_modules/lucide-react/src/icons/chevron-right.ts","components/VideoEditingWizard.js","../node_modules/lucide-react/src/icons/facebook.ts","utils/facebookSdk.js","components/OnboardingModal.js","components/SocialMediaPopup.js","../node_modules/lucide-react/src/icons/instagram.ts","../node_modules/lucide-react/src/icons/twitter.ts","../node_modules/lucide-react/src/icons/youtube.ts","components/SocialMediaScheduler.js","../node_modules/lucide-react/src/icons/clock.ts","../node_modules/lucide-react/src/icons/calendar.ts","components/SocialMediaCalendar.js","pages/ProcessingStatusModal.js","../node_modules/lucide-react/src/icons/loader.ts","components/DashboardStructure.jsx","components/UploadBubbles.jsx","pages/Dashboard.js","../node_modules/lucide-react/src/icons/alert-circle.ts","../node_modules/lucide-react/src/icons/download.ts","../node_modules/lucide-react/src/icons/wand-2.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/file-video.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('ChevronRight', [\n  ['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }],\n]);\n\nexport default ChevronRight;\n","import React, { useState, useEffect } from 'react';\nimport { X, ChevronRight, ChevronLeft, Wand2 } from 'lucide-react';\n\nconst VideoEditingWizard = ({ isOpen, videoFiles, onClose, onProcessVideo }) => {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formData, setFormData] = useState({\n    videoName: '',\n    description: '',\n    editingStyle: ''\n  });\n  const [selectedPlatforms, setSelectedPlatforms] = useState([]);\n  const [isStory, setIsStory] = useState(false);\n\n  useEffect(() => {\n    // Keep parity with previous behavior if needed\n  }, [videoFiles]);\n\n  if (!isOpen) return null;\n\n  const totalSteps = 3;\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const nextStep = () => {\n    if (currentStep < totalSteps) setCurrentStep(currentStep + 1);\n  };\n  const prevStep = () => {\n    if (currentStep > 1) setCurrentStep(currentStep - 1);\n  };\n\n  const handleFinish = () => {\n    const platformCatalog = getPlatformCatalog();\n    const recommendedDurations = selectedPlatforms.reduce((acc, pid) => {\n      const p = platformCatalog.find(pl => pl.id === pid);\n      if (p) acc[pid] = p.recommendedDurations;\n      return acc;\n    }, {});\n\n    const finalData = {\n      ...formData,\n      platforms: selectedPlatforms,\n      storyMode: isStory,\n      estimatedExtraCredits: isStory ? 1 : 0,\n      recommendedDurations,\n      orderedFiles: videoFiles || [],\n      fileCount: (videoFiles || []).length\n    };\n    onProcessVideo(finalData);\n    onClose();\n  };\n\n  const getPlatformCatalog = () => ([\n    { id: 'tiktok', name: 'TikTok', recommendedDurations: ['1530s', '3060s'], note: '9:16 vertical' },\n    { id: 'instagram-reels', name: 'Instagram Reels', recommendedDurations: ['1530s', '3060s'], note: '9:16 vertical' },\n    { id: 'instagram-story', name: 'Instagram Story', recommendedDurations: ['15s per slide'], note: '9:16 vertical' },\n    { id: 'youtube-shorts', name: 'YouTube Shorts', recommendedDurations: ['1560s'], note: '9:16 vertical' },\n    { id: 'youtube', name: 'YouTube', recommendedDurations: ['12m', '25m'], note: '16:9 horizontal' },\n    { id: 'facebook', name: 'Facebook', recommendedDurations: ['3060s', '12m'], note: '16:9 or 9:16' },\n    { id: 'twitter', name: 'Twitter/X', recommendedDurations: ['1560s'], note: '16:9 or 9:16' }\n  ]);\n\n  const togglePlatform = (id) => {\n    setSelectedPlatforms(prev => prev.includes(id) ? prev.filter(p => p !== id) : [...prev, id]);\n  };\n\n  const renderStep = () => {\n    switch (currentStep) {\n      case 1:\n        return (\n          <div className=\"space-y-4\">\n            <h3 className=\"text-xl font-semibold text-gray-800\">Step 1: Video Information</h3>\n            <p className=\"text-gray-600\">Give your video a name and brief description</p>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Video Name</label>\n              <input\n                type=\"text\"\n                placeholder=\"E.g. Promo for Popeys bar in London\"\n                value={formData.videoName}\n                onChange={(e) => handleInputChange('videoName', e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\n              <textarea\n                placeholder=\"A short description or any key notes...\"\n                value={formData.description}\n                onChange={(e) => handleInputChange('description', e.target.value)}\n                rows={3}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n        );\n      case 2:\n        return (\n          <div className=\"space-y-4\">\n            <h3 className=\"text-xl font-semibold text-gray-800\">Step 2: Platforms</h3>\n            <p className=\"text-gray-600\">What platform(s) do you need this video for? (Select multiple)</p>\n            <div className=\"grid grid-cols-2 gap-3\">\n              {getPlatformCatalog().map((p) => (\n                <button\n                  key={p.id}\n                  onClick={() => togglePlatform(p.id)}\n                  className={`p-3 rounded-lg border-2 text-left transition-all ${selectedPlatforms.includes(p.id) ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-gray-200 hover:border-gray-300'}`}\n                >\n                  <div className=\"font-medium\">{p.name}</div>\n                  <div className=\"text-xs text-gray-600\">{p.note}</div>\n                </button>\n              ))}\n            </div>\n\n            {selectedPlatforms.length > 0 && (\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium text-blue-800 mb-2\">Recommended Durations</h4>\n                <ul className=\"text-sm text-blue-700 space-y-1\">\n                  {selectedPlatforms.map(pid => {\n                    const p = getPlatformCatalog().find(pl => pl.id === pid);\n                    return (\n                      <li key={pid}><strong>{p?.name}:</strong> {(p?.recommendedDurations || []).join(', ')}</li>\n                    );\n                  })}\n                </ul>\n                <p className=\"text-xs text-blue-700 mt-2\">Well tailor cuts and pacing to fit each platforms best practices.</p>\n              </div>\n            )}\n          </div>\n        );\n\n      case 3:\n        return (\n          <div className=\"space-y-4\">\n            <h3 className=\"text-xl font-semibold text-gray-800\">Step 3: Story Mode</h3>\n            <p className=\"text-gray-600\">Make this video a story sequence. This uses an extra credit.</p>\n            <div className=\"flex items-center justify-between p-4 border rounded-lg\">\n              <div>\n                <div className=\"font-medium text-gray-800\">Create Story Version</div>\n                <div className=\"text-sm text-gray-600\">Generates story-formatted output (e.g., multiple slides at 15s for IG Story).</div>\n                <div className=\"text-xs text-red-600 mt-1\">Note: Uses 1 extra credit from your balance.</div>\n              </div>\n              <label className=\"inline-flex items-center cursor-pointer\">\n                <input type=\"checkbox\" className=\"sr-only peer\" checked={isStory} onChange={(e) => setIsStory(e.target.checked)} />\n                <div className=\"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 transition-colors\">\n                  <div className={`h-6 w-6 bg-white rounded-full shadow transform transition-transform ${isStory ? 'translate-x-5' : ''}`}></div>\n                </div>\n              </label>\n            </div>\n\n            <div className=\"space-y-3\">\n              {[{ name: 'Dynamic', desc: 'Fast cuts, energetic pacing' }, { name: 'Clean', desc: 'Minimal, professional transitions' }, { name: 'Cinematic', desc: 'Dramatic look, film-style' }].map((style) => (\n                <button\n                  key={style.name}\n                  onClick={() => handleInputChange('editingStyle', style.name)}\n                  className={`w-full p-4 rounded-lg border-2 text-left transition-all ${formData.editingStyle === style.name ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                >\n                  <div className=\"font-medium\">{style.name}</div>\n                  <div className=\"text-sm text-gray-600\">{style.desc}</div>\n                </button>\n              ))}\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n      style={{ zIndex: 999999 }}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) onClose();\n      }}\n    >\n      <div\n        className=\"bg-white/90 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden\"\n        style={{\n          backdropFilter: 'blur(20px)',\n          background: 'rgba(255, 255, 255, 0.9)',\n          boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.2)'\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex items-center justify-between p-6 border-b border-white/20 bg-white/10 backdrop-blur-sm\">\n          <div className=\"flex items-center space-x-3\">\n            <Wand2 className=\"w-6 h-6 text-blue-600\" />\n            <div>\n              <h2 className=\"text-xl font-bold text-gray-800\">Video Editor</h2>\n              <p className=\"text-sm text-gray-600\">Step {currentStep} of {totalSteps}</p>\n            </div>\n          </div>\n          <button onClick={onClose} className=\"p-2 hover:bg-white/20 rounded-lg transition-colors backdrop-blur-sm\">\n            <X className=\"w-5 h-5 text-gray-500\" />\n          </button>\n        </div>\n\n        <div className=\"px-6 py-4 bg-white/5 backdrop-blur-sm\">\n          <div className=\"w-full bg-white/20 rounded-full h-2\">\n            <div\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300 shadow-sm\"\n              style={{ width: `${(currentStep / totalSteps) * 100}%` }}\n            />\n          </div>\n        </div>\n\n        <div className=\"p-6 overflow-y-auto max-h-[60vh]\">{renderStep()}</div>\n\n        <div className=\"flex items-center justify-between p-6 border-t border-white/20 bg-white/5 backdrop-blur-sm\">\n          <button\n            onClick={prevStep}\n            disabled={currentStep === 1}\n            className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors backdrop-blur-sm ${currentStep === 1 ? 'text-gray-400 cursor-not-allowed' : 'text-gray-600 hover:bg-white/20'}`}\n          >\n            <ChevronLeft className=\"w-4 h-4\" />\n            <span>Previous</span>\n          </button>\n          {currentStep === totalSteps ? (\n            <button onClick={handleFinish} className=\"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg backdrop-blur-sm\">\n              <Wand2 className=\"w-4 h-4\" />\n              <span>Start Editing</span>\n            </button>\n          ) : (\n            <button onClick={nextStep} className=\"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg backdrop-blur-sm\">\n              <span>Next</span>\n              <ChevronRight className=\"w-4 h-4\" />\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoEditingWizard;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Facebook\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggMmgtM2E1IDUgMCAwIDAtNSA1djNIN3Y0aDN2OGg0di04aDNsMS00aC00VjdhMSAxIDAgMCAxIDEtMWgzeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/facebook\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated\n */\nconst Facebook = createLucideIcon('Facebook', [\n  [\n    'path',\n    { d: 'M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z', key: '1jg4f8' },\n  ],\n]);\n\nexport default Facebook;\n","const loadScript = (src, id) => {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined') return reject(new Error('No window'));\n    if (document.getElementById(id)) return resolve();\n    const js = document.createElement('script');\n    js.id = id;\n    js.async = true;\n    js.src = 'https://connect.facebook.net/en_US/sdk.js';\n    js.onload = () => resolve();\n    js.onerror = () => reject(new Error('Failed to load Facebook SDK'));\n    const fjs = document.getElementsByTagName('script')[0];\n    fjs.parentNode.insertBefore(js, fjs);\n  });\n};\n\nexport const initFacebookSDK = async () => {\n  const appId = process.env.REACT_APP_FB_APP_ID || process.env.REACT_APP_FACEBOOK_APP_ID || '';\n  const version = process.env.REACT_APP_FB_API_VERSION || 'v19.0';\n\n  if (!appId) {\n    throw new Error('Missing REACT_APP_FB_APP_ID');\n  }\n\n  await loadScript('https://connect.facebook.net/en_US/sdk.js', 'facebook-jssdk');\n\n  return new Promise((resolve) => {\n    window.fbAsyncInit = function () {\n      window.FB.init({\n        appId,\n        cookie: true,\n        xfbml: false,\n        version,\n      });\n      resolve();\n    };\n    if (window.FB && typeof window.FB.init === 'function') {\n      window.FB.init({ appId, cookie: true, xfbml: false, version });\n      resolve();\n    }\n  });\n};\n\nexport const loginWithFacebook = async (scope = 'public_profile,email,pages_show_list,pages_manage_posts,pages_read_engagement,business_management') => {\n  if (typeof window === 'undefined' || !window.FB) {\n    throw new Error('Facebook SDK not initialized');\n  }\n  return new Promise((resolve, reject) => {\n    window.FB.login((response) => {\n      if (response && response.authResponse) {\n        resolve(response.authResponse);\n      } else {\n        reject(new Error('Facebook login failed'));\n      }\n    }, { scope });\n  });\n};\n\nexport const getLoginStatus = () => {\n  return new Promise((resolve) => {\n    if (typeof window === 'undefined' || !window.FB) return resolve(null);\n    window.FB.getLoginStatus((response) => resolve(response));\n  });\n};","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Facebook, X } from 'lucide-react';\nimport { initFacebookSDK, loginWithFacebook } from '../utils/facebookSdk';\n\nconst OnboardingModal = ({ isOpen, onClose }) => {\n  const { user, handleOAuthLogin, refreshUser } = useAuth();\n  const [connecting, setConnecting] = useState(false);\n  const [facebookConfigured, setFacebookConfigured] = useState(false);\n  \n  // Check if Facebook OAuth is configured\n  useEffect(() => {\n    // Check OAuth configuration status\n    const checkOAuthStatus = async () => {\n      try {\n        const response = await fetch('/auth/status');\n        const data = await response.json();\n        setFacebookConfigured(data.providers?.facebook || false);\n      } catch (error) {\n        console.log('Could not check OAuth status');\n        setFacebookConfigured(false);\n      }\n    };\n    \n    checkOAuthStatus();\n  }, []);\n  \n  if (!isOpen) return null;\n\n  const isFacebookLinked = Array.isArray(user?.linkedSocialAccounts) && user.linkedSocialAccounts.includes('facebook');\n\n  return (\n    <div className=\"fixed inset-0 z-[70] bg-black/40 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl border border-gray-200 w-[92%] max-w-lg\">\n        <div className=\"flex items-center justify-between px-5 pt-5\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Lets set up your account</h3>\n          <button\n            aria-label=\"Close\"\n            onClick={onClose}\n            className=\"p-2 rounded-full hover:bg-gray-100 text-gray-600\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"px-5 pb-5\">\n          <p className=\"text-sm text-gray-600 mb-4\">Follow these steps to finish onboarding and enable social posting.</p>\n\n          {facebookConfigured && (\n            <div className=\"rounded-xl border border-gray-200 p-4 mb-3\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-full bg-blue-50 text-blue-600\">\n                    <Facebook className=\"w-5 h-5\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-gray-900\">Connect Facebook Business</p>\n                    <p className=\"text-xs text-gray-500\">Link your Facebook Business account to post videos directly from the calendar.</p>\n                  </div>\n                </div>\n                <span className={`px-2.5 py-1 rounded-full text-xs ${isFacebookLinked ? 'bg-green-50 text-green-700 border border-green-200' : 'bg-gray-100 text-gray-700'}`}>\n                  {isFacebookLinked ? 'Connected' : 'Not connected'}\n                </span>\n              </div>\n\n              <div className=\"mt-4 flex items-center gap-3\">\n                {isFacebookLinked ? (\n                  <button\n                    className=\"px-4 py-2 rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200\"\n                    onClick={onClose}\n                  >\n                    Done\n                  </button>\n                ) : (\n                  <button\n                    className={`px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 ${connecting ? 'opacity-70 cursor-not-allowed' : ''}`}\n                    onClick={async () => {\n                      if (connecting) return;\n                      setConnecting(true);\n                      try {\n                        await initFacebookSDK();\n                        const auth = await loginWithFacebook();\n                        if (auth && auth.accessToken) {\n                          try {\n                            await refreshUser();\n                          } catch (_) {}\n                          onClose();\n                          return;\n                        }\n                        handleOAuthLogin('facebook');\n                      } catch (e) {\n                        handleOAuthLogin('facebook');\n                      } finally {\n                        setConnecting(false);\n                      }\n                    }}\n                  >\n                    {connecting ? 'Connecting' : 'Connect Facebook'}\n                  </button>\n                )}\n                <button\n                  className=\"px-4 py-2 rounded-full text-gray-700 hover:bg-gray-100\"\n                  onClick={onClose}\n                >\n                  Skip for now\n                </button>\n              </div>\n              <p className=\"mt-2 text-xs text-gray-500\">You can change this later under Settings  Social Accounts.</p>\n            </div>\n          )}\n          \n          {!facebookConfigured && (\n            <div className=\"rounded-xl border border-gray-200 p-4 mb-3 bg-gray-50\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 rounded-full bg-gray-200 text-gray-500\">\n                  <Facebook className=\"w-5 h-5\" />\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-600\">Facebook Business Integration</p>\n                  <p className=\"text-xs text-gray-500\">Facebook integration is not configured. Contact your administrator to enable this feature.</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Future steps could go here */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OnboardingModal;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst SocialMediaPopup = ({ isOpen, onClose, socialMedia, onSave }) => {\n  const [formData, setFormData] = useState({\n    instagram: '',\n    tiktok: '',\n    youtube: '',\n    twitter: '',\n    facebook: ''\n  });\n\n  useEffect(() => {\n    if (socialMedia) {\n      setFormData({\n        instagram: socialMedia.instagram || '',\n        tiktok: socialMedia.tiktok || '',\n        youtube: socialMedia.youtube || '',\n        twitter: socialMedia.twitter || '',\n        facebook: socialMedia.facebook || ''\n      });\n    }\n  }, [socialMedia]);\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSave(formData);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <Overlay onClick={onClose}>\n      <PopupContainer onClick={(e) => e.stopPropagation()}>\n        <PopupHeader>\n          <Title>Update Social Media Links</Title>\n          <CloseButton onClick={onClose}>&times;</CloseButton>\n        </PopupHeader>\n        \n        <Form onSubmit={handleSubmit}>\n          <FormGroup>\n            <Label htmlFor=\"instagram\">Instagram</Label>\n            <Input\n              type=\"url\"\n              id=\"instagram\"\n              name=\"instagram\"\n              value={formData.instagram}\n              onChange={handleChange}\n              placeholder=\"https://instagram.com/username\"\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label htmlFor=\"tiktok\">TikTok</Label>\n            <Input\n              type=\"url\"\n              id=\"tiktok\"\n              name=\"tiktok\"\n              value={formData.tiktok}\n              onChange={handleChange}\n              placeholder=\"https://tiktok.com/@username\"\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label htmlFor=\"youtube\">YouTube</Label>\n            <Input\n              type=\"url\"\n              id=\"youtube\"\n              name=\"youtube\"\n              value={formData.youtube}\n              onChange={handleChange}\n              placeholder=\"https://youtube.com/@username\"\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label htmlFor=\"twitter\">Twitter/X</Label>\n            <Input\n              type=\"url\"\n              id=\"twitter\"\n              name=\"twitter\"\n              value={formData.twitter}\n              onChange={handleChange}\n              placeholder=\"https://twitter.com/username\"\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label htmlFor=\"facebook\">Facebook</Label>\n            <Input\n              type=\"url\"\n              id=\"facebook\"\n              name=\"facebook\"\n              value={formData.facebook}\n              onChange={handleChange}\n              placeholder=\"https://facebook.com/username\"\n            />\n          </FormGroup>\n\n          <ButtonGroup>\n            <CancelButton type=\"button\" onClick={onClose}>\n              Cancel\n            </CancelButton>\n            <SaveButton type=\"submit\">\n              Save Changes\n            </SaveButton>\n          </ButtonGroup>\n        </Form>\n      </PopupContainer>\n    </Overlay>\n  );\n};\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n`;\n\nconst PopupContainer = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 2rem;\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n`;\n\nconst PopupHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n`;\n\nconst Title = styled.h2`\n  color: #1F2937;\n  font-size: 1.5rem;\n  margin: 0;\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  font-size: 2rem;\n  color: #6B7280;\n  cursor: pointer;\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #F3F4F6;\n    color: #374151;\n  }\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  color: #374151;\n  font-weight: 500;\n  font-size: 0.9rem;\n`;\n\nconst Input = styled.input`\n  padding: 0.75rem;\n  border: 2px solid #E5E7EB;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #4F46E5;\n  }\n\n  &::placeholder {\n    color: #9CA3AF;\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: 1rem;\n`;\n\nconst CancelButton = styled.button`\n  background: #F3F4F6;\n  color: #374151;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #E5E7EB;\n  }\n`;\n\nconst SaveButton = styled.button`\n  background: #4F46E5;\n  color: white;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #4338CA;\n    transform: translateY(-1px);\n  }\n`;\n\nexport default SocialMediaPopup;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Instagram\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHg9IjIiIHk9IjIiIHJ4PSI1IiByeT0iNSIgLz4KICA8cGF0aCBkPSJNMTYgMTEuMzdBNCA0IDAgMSAxIDEyLjYzIDggNCA0IDAgMCAxIDE2IDExLjM3eiIgLz4KICA8bGluZSB4MT0iMTcuNSIgeDI9IjE3LjUxIiB5MT0iNi41IiB5Mj0iNi41IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/instagram\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated\n */\nconst Instagram = createLucideIcon('Instagram', [\n  ['rect', { width: '20', height: '20', x: '2', y: '2', rx: '5', ry: '5', key: '2e1cvw' }],\n  ['path', { d: 'M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z', key: '9exkf1' }],\n  ['line', { x1: '17.5', x2: '17.51', y1: '6.5', y2: '6.5', key: 'r4j83e' }],\n]);\n\nexport default Instagram;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Twitter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgNHMtLjcgMi4xLTIgMy40YzEuNiAxMC05LjQgMTcuMy0xOCAxMS42IDIuMi4xIDQuNC0uNiA2LTJDMyAxNS41LjUgOS42IDMgNWMyLjIgMi42IDUuNiA0LjEgOSA0LS45LTQuMiA0LTYuNiA3LTMuOCAxLjEgMCAzLTEuMiAzLTEuMnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/twitter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated\n */\nconst Twitter = createLucideIcon('Twitter', [\n  [\n    'path',\n    {\n      d: 'M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z',\n      key: 'pff0z6',\n    },\n  ],\n]);\n\nexport default Twitter;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Youtube\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi41IDE3YTI0LjEyIDI0LjEyIDAgMCAxIDAtMTAgMiAyIDAgMCAxIDEuNC0xLjQgNDkuNTYgNDkuNTYgMCAwIDEgMTYuMiAwQTIgMiAwIDAgMSAyMS41IDdhMjQuMTIgMjQuMTIgMCAwIDEgMCAxMCAyIDIgMCAwIDEtMS40IDEuNCA0OS41NSA0OS41NSAwIDAgMS0xNi4yIDBBMiAyIDAgMCAxIDIuNSAxNyIgLz4KICA8cGF0aCBkPSJtMTAgMTUgNS0zLTUtM3oiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/youtube\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated\n */\nconst Youtube = createLucideIcon('Youtube', [\n  [\n    'path',\n    {\n      d: 'M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17',\n      key: '1q2vi4',\n    },\n  ],\n  ['path', { d: 'm10 15 5-3-5-3z', key: '1jp15x' }],\n]);\n\nexport default Youtube;\n","import React, { useState, useEffect } from 'react';\nimport { Instagram, Facebook, Twitter, Youtube, Settings, CheckCircle, AlertCircle, X, Video } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst SocialMediaScheduler = ({ video, onClose, onSchedule }) => {\n  const [selectedPlatforms, setSelectedPlatforms] = useState([]);\n  const [scheduledDate, setScheduledDate] = useState('');\n  const [scheduledTime, setScheduledTime] = useState('');\n  const [caption, setCaption] = useState('');\n  const [connectedAccounts, setConnectedAccounts] = useState([]);\n  const [showAccountSettings, setShowAccountSettings] = useState(false);\n\n  const platforms = [\n    { id: 'instagram', name: 'Instagram', icon: Instagram, color: 'bg-pink-500', maxLength: 2200 },\n    { id: 'facebook', name: 'Facebook', icon: Facebook, color: 'bg-blue-600', maxLength: 63206 },\n    { id: 'twitter', name: 'Twitter/X', icon: Twitter, color: 'bg-black', maxLength: 280 },\n    { id: 'youtube', name: 'YouTube', icon: Youtube, color: 'bg-red-600', maxLength: 5000 },\n  ];\n\n  useEffect(() => {\n    fetchConnectedAccounts();\n  }, []);\n\n  const fetchConnectedAccounts = async () => {\n    try {\n      const response = await fetch('/api/social/accounts', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const accounts = await response.json();\n        setConnectedAccounts(accounts);\n      }\n    } catch (error) {\n      console.error('Error fetching connected accounts:', error);\n    }\n  };\n\n  const handlePlatformToggle = (platformId) => {\n    setSelectedPlatforms(prev => \n      prev.includes(platformId) \n        ? prev.filter(id => id !== platformId)\n        : [...prev, platformId]\n    );\n  };\n\n  const handleSchedulePost = async () => {\n    if (!scheduledDate || !scheduledTime || selectedPlatforms.length === 0) {\n      toast.error('Please select date, time, and at least one platform');\n      return;\n    }\n\n    const scheduleData = {\n      videoId: video.id,\n      platforms: selectedPlatforms,\n      scheduledAt: new Date(`${scheduledDate}T${scheduledTime}`),\n      caption,\n      video: {\n        title: video.title,\n        url: video.url,\n        thumbnail: video.thumbnail\n      }\n    };\n\n    try {\n      const response = await fetch('/api/social/schedule', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(scheduleData)\n      });\n\n      if (response.ok) {\n        toast.success('Post scheduled successfully!');\n        onSchedule && onSchedule(scheduleData);\n        onClose();\n      } else {\n        toast.error('Failed to schedule post');\n      }\n    } catch (error) {\n      console.error('Error scheduling post:', error);\n      toast.error('Error scheduling post');\n    }\n  };\n\n  const getMaxCaptionLength = () => {\n    if (selectedPlatforms.length === 0) return 2200;\n    return Math.min(...selectedPlatforms.map(id => \n      platforms.find(p => p.id === id)?.maxLength || 2200\n    ));\n  };\n\n  const isAccountConnected = (platformId) => {\n    return connectedAccounts.some(account => account.platform === platformId);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Schedule Social Media Post</h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {/* Video Preview */}\n          <div className=\"bg-gray-50 rounded-xl p-4\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center\">\n                {video?.thumbnail ? (\n                  <img src={video.thumbnail} alt=\"Video thumbnail\" className=\"w-full h-full object-cover rounded-lg\" />\n                ) : (\n                  <Video className=\"w-8 h-8 text-gray-400\" />\n                )}\n              </div>\n              <div>\n                <h3 className=\"font-medium text-gray-900\">{video?.title || 'Untitled Video'}</h3>\n                <p className=\"text-sm text-gray-600\">Ready to schedule</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Platform Selection */}\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Select Platforms</h3>\n              <button\n                onClick={() => setShowAccountSettings(true)}\n                className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center space-x-1\"\n              >\n                <Settings className=\"w-4 h-4\" />\n                <span>Manage Accounts</span>\n              </button>\n            </div>\n            <div className=\"grid grid-cols-2 gap-3\">\n              {platforms.map((platform) => {\n                const Icon = platform.icon;\n                const isConnected = isAccountConnected(platform.id);\n                const isSelected = selectedPlatforms.includes(platform.id);\n                \n                return (\n                  <button\n                    key={platform.id}\n                    onClick={() => isConnected && handlePlatformToggle(platform.id)}\n                    disabled={!isConnected}\n                    className={`p-4 rounded-xl border-2 transition-all ${\n                      isSelected\n                        ? 'border-blue-500 bg-blue-50'\n                        : isConnected\n                        ? 'border-gray-200 hover:border-gray-300'\n                        : 'border-gray-100 bg-gray-50 cursor-not-allowed'\n                    }`}\n                  >\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`w-8 h-8 ${platform.color} rounded-lg flex items-center justify-center`}>\n                        <Icon className=\"w-4 h-4 text-white\" />\n                      </div>\n                      <div className=\"text-left\">\n                        <p className={`font-medium ${isConnected ? 'text-gray-900' : 'text-gray-400'}`}>\n                          {platform.name}\n                        </p>\n                        <div className=\"flex items-center space-x-1\">\n                          {isConnected ? (\n                            <>\n                              <CheckCircle className=\"w-3 h-3 text-green-500\" />\n                              <span className=\"text-xs text-green-600\">Connected</span>\n                            </>\n                          ) : (\n                            <>\n                              <AlertCircle className=\"w-3 h-3 text-gray-400\" />\n                              <span className=\"text-xs text-gray-400\">Not connected</span>\n                            </>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Caption */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Caption\n              <span className=\"text-gray-500 ml-1\">\n                ({caption.length}/{getMaxCaptionLength()})\n              </span>\n            </label>\n            <textarea\n              value={caption}\n              onChange={(e) => setCaption(e.target.value)}\n              maxLength={getMaxCaptionLength()}\n              placeholder=\"Write your post caption...\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n              rows={4}\n            />\n          </div>\n\n          {/* Schedule Date & Time */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Date\n              </label>\n              <input\n                type=\"date\"\n                value={scheduledDate}\n                onChange={(e) => setScheduledDate(e.target.value)}\n                min={new Date().toISOString().split('T')[0]}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Time\n              </label>\n              <input\n                type=\"time\"\n                value={scheduledTime}\n                onChange={(e) => setScheduledTime(e.target.value)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSchedulePost}\n              disabled={!scheduledDate || !scheduledTime || selectedPlatforms.length === 0}\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              Schedule Post\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Account Settings Modal */}\n      {showAccountSettings && (\n        <AccountSettingsModal\n          onClose={() => setShowAccountSettings(false)}\n          onAccountsUpdated={fetchConnectedAccounts}\n        />\n      )}\n    </div>\n  );\n};\n\nconst AccountSettingsModal = ({ onClose, onAccountsUpdated }) => {\n  const [connectedAccounts, setConnectedAccounts] = useState([]);\n\n  const platforms = [\n    { id: 'instagram', name: 'Instagram', icon: Instagram, color: 'bg-pink-500' },\n    { id: 'facebook', name: 'Facebook', icon: Facebook, color: 'bg-blue-600' },\n    { id: 'twitter', name: 'Twitter/X', icon: Twitter, color: 'bg-black' },\n    { id: 'youtube', name: 'YouTube', icon: Youtube, color: 'bg-red-600' },\n  ];\n\n  useEffect(() => {\n    fetchConnectedAccounts();\n  }, []);\n\n  const fetchConnectedAccounts = async () => {\n    try {\n      const response = await fetch('/api/social/accounts', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const accounts = await response.json();\n        setConnectedAccounts(accounts);\n      }\n    } catch (error) {\n      console.error('Error fetching connected accounts:', error);\n    }\n  };\n\n  const handleConnectAccount = async (platformId) => {\n    try {\n      const response = await fetch(`/api/social/connect/${platformId}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const { authUrl } = await response.json();\n        window.open(authUrl, '_blank', 'width=600,height=600');\n        // Listen for auth completion\n        window.addEventListener('message', (event) => {\n          if (event.data.type === 'SOCIAL_AUTH_SUCCESS') {\n            fetchConnectedAccounts();\n            onAccountsUpdated();\n            toast.success(`${platformId} account connected successfully!`);\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error connecting account:', error);\n      toast.error('Failed to connect account');\n    }\n  };\n\n  const handleDisconnectAccount = async (accountId) => {\n    try {\n      const response = await fetch(`/api/social/accounts/${accountId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        fetchConnectedAccounts();\n        onAccountsUpdated();\n        toast.success('Account disconnected successfully!');\n      }\n    } catch (error) {\n      console.error('Error disconnecting account:', error);\n      toast.error('Failed to disconnect account');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-md w-full\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Social Media Accounts</h3>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-4\">\n          {platforms.map((platform) => {\n            const Icon = platform.icon;\n            const connectedAccount = connectedAccounts.find(acc => acc.platform === platform.id);\n            \n            return (\n              <div key={platform.id} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className={`w-8 h-8 ${platform.color} rounded-lg flex items-center justify-center`}>\n                    <Icon className=\"w-4 h-4 text-white\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{platform.name}</p>\n                    {connectedAccount ? (\n                      <p className=\"text-sm text-green-600\">@{connectedAccount.username}</p>\n                    ) : (\n                      <p className=\"text-sm text-gray-500\">Not connected</p>\n                    )}\n                  </div>\n                </div>\n                \n                {connectedAccount ? (\n                  <button\n                    onClick={() => handleDisconnectAccount(connectedAccount.id)}\n                    className=\"px-3 py-1 text-sm text-red-600 hover:text-red-700 border border-red-200 rounded-lg hover:bg-red-50 transition-colors\"\n                  >\n                    Disconnect\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => handleConnectAccount(platform.id)}\n                    className=\"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors\"\n                  >\n                    Connect\n                  </button>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SocialMediaScheduler;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('Calendar', [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n]);\n\nexport default Calendar;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Calendar, ChevronLeft, ChevronRight, Clock, Instagram, Facebook, Twitter, Youtube, Trash2, CheckCircle, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst SocialMediaCalendar = () => {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [scheduledPosts, setScheduledPosts] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const platforms = {\n    instagram: { icon: Instagram, color: 'bg-pink-500', name: 'Instagram' },\n    facebook: { icon: Facebook, color: 'bg-blue-600', name: 'Facebook' },\n    twitter: { icon: Twitter, color: 'bg-black', name: 'Twitter/X' },\n    youtube: { icon: Youtube, color: 'bg-red-600', name: 'YouTube' },\n  };\n\n  const fetchScheduledPosts = useCallback(async () => {\n    try {\n      setLoading(true);\n      const startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n      const endDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n      \n      const response = await fetch(`/api/social/scheduled?start=${startDate.toISOString()}&end=${endDate.toISOString()}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const posts = await response.json();\n        setScheduledPosts(posts);\n      }\n    } catch (error) {\n      console.error('Error fetching scheduled posts:', error);\n      toast.error('Failed to load scheduled posts');\n    } finally {\n      setLoading(false);\n    }\n  }, [currentDate]);\n\n  useEffect(() => {\n    fetchScheduledPosts();\n  }, [fetchScheduledPosts]);\n\n  const getDaysInMonth = (date) => {\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const daysInMonth = lastDay.getDate();\n    const startingDayOfWeek = firstDay.getDay();\n\n    const days = [];\n    \n    // Add empty cells for days before the first day of the month\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      days.push(null);\n    }\n    \n    // Add all days of the month\n    for (let day = 1; day <= daysInMonth; day++) {\n      days.push(new Date(year, month, day));\n    }\n    \n    return days;\n  };\n\n  const getPostsForDate = (date) => {\n    if (!date) return [];\n    const dateStr = date.toDateString();\n    return scheduledPosts.filter(post => \n      new Date(post.scheduledAt).toDateString() === dateStr\n    );\n  };\n\n  const navigateMonth = (direction) => {\n    setCurrentDate(prev => {\n      const newDate = new Date(prev);\n      newDate.setMonth(prev.getMonth() + direction);\n      return newDate;\n    });\n  };\n\n  const handleDeletePost = async (postId) => {\n    if (!window.confirm('Are you sure you want to delete this scheduled post?')) return;\n    \n    try {\n      const response = await fetch(`/api/social/scheduled/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        toast.success('Scheduled post deleted');\n        fetchScheduledPosts();\n      } else {\n        toast.error('Failed to delete post');\n      }\n    } catch (error) {\n      console.error('Error deleting post:', error);\n      toast.error('Error deleting post');\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'scheduled':\n        return <Clock className=\"w-4 h-4 text-blue-500\" />;\n      case 'posted':\n        return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n      case 'failed':\n        return <AlertCircle className=\"w-4 h-4 text-red-500\" />;\n      default:\n        return <Clock className=\"w-4 h-4 text-gray-400\" />;\n    }\n  };\n\n  const days = getDaysInMonth(currentDate);\n  const monthNames = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ];\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n  return (\n    <div className=\"rounded-2xl backdrop-blur-md bg-gradient-to-br from-white/10 via-white/5 to-transparent border border-white/20 ring-2 ring-white/30 shadow-[0_10px_25px_rgba(255,255,255,0.10),0_2px_6px_rgba(255,255,255,0.06)] max-w-4xl mx-auto text-white\">\n      <div className=\"p-4 border-b border-white/10\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-blue-600/20 rounded-xl flex items-center justify-center\">\n              <Calendar className=\"w-5 h-5 text-blue-300\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">Social Media Calendar</h2>\n              <p className=\"text-xs text-white/70\">Manage your scheduled posts</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => navigateMonth(-1)}\n              className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n            >\n              <ChevronLeft className=\"w-5 h-5\" />\n            </button>\n            <h3 className=\"text-base font-medium text-white min-w-[120px] text-center\">\n              {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}\n            </h3>\n            <button\n              onClick={() => navigateMonth(1)}\n              className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n            >\n              <ChevronRight className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-4\">\n        {loading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-300\"></div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-7 gap-1\">\n            {/* Day headers */}\n            {dayNames.map(day => (\n              <div key={day} className=\"p-2 text-center text-xs font-medium text-white/80\">\n                {day}\n              </div>\n            ))}\n            \n            {/* Calendar days */}\n            {days.map((day, index) => {\n              const posts = day ? getPostsForDate(day) : [];\n              const isToday = day && day.toDateString() === new Date().toDateString();\n              const isSelected = selectedDate && day && day.toDateString() === selectedDate.toDateString();\n              \n              return (\n                <div\n                  key={index}\n                  className={`min-h-[72px] p-2 border border-white/20 ${\n                    day ? 'cursor-pointer hover:bg-white/15' : ''\n                  } ${isToday ? 'bg-blue-600/10 border-blue-300/40' : ''} ${\n                    isSelected ? 'bg-white/15 border-white/40 shadow-[0_6px_16px_rgba(255,255,255,0.12)]' : ''\n                  }`}\n                  onClick={() => day && setSelectedDate(day)}\n                >\n                  {day && (\n                    <>\n                      <div className=\"flex items-center mb-1\">\n                        <div\n                          className={`w-7 h-7 rounded-md border -ml-1 flex items-center justify-center text-base font-semibold ${\n                            isToday ? 'bg-blue-600/20 border-blue-300/50 text-blue-200' : 'bg-white/10 border-white/30 text-white'\n                          }`}\n                        >\n                          {day.getDate()}\n                        </div>\n                      </div>\n                      <div className=\"space-y-1\">\n                        {posts.slice(0, 3).map((post, postIndex) => {\n                          const platformData = platforms[post.platforms[0]];\n                          const Icon = platformData?.icon;\n                          \n                          return (\n                            <div\n                              key={postIndex}\n                              className=\"flex items-center space-x-1 text-[10px] bg-white/10 rounded px-1 py-0.5 border border-white/30 text-white/90\"\n                            >\n                              {Icon && (\n                                <div className={`w-3 h-3 ${platformData.color} rounded-sm flex items-center justify-center`}>\n                                  <Icon className=\"w-2 h-2 text-white\" />\n                                </div>\n                              )}\n                              <span className=\"truncate flex-1\">{post.caption.slice(0, 15)}...</span>\n                              {getStatusIcon(post.status)}\n                            </div>\n                          );\n                        })}\n                        {posts.length > 3 && (\n                          <div className=\"text-xs text-white/60 text-center\">\n                            +{posts.length - 3} more\n                          </div>\n                        )}\n                      </div>\n                    </>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Selected Date Details */}\n      {selectedDate && (\n        <div className=\"border-t border-white/10 p-4\">\n          <h3 className=\"text-base font-medium text-white mb-3\">\n            Posts for {selectedDate.toLocaleDateString()}\n          </h3>\n          \n          {getPostsForDate(selectedDate).length === 0 ? (\n            <p className=\"text-white/60 text-center py-8\">No posts scheduled for this date</p>\n          ) : (\n            <div className=\"space-y-3\">\n              {getPostsForDate(selectedDate).map((post) => (\n                <div key={post.id} className=\"bg-white/7 border border-white/15 rounded-lg p-4 shadow-[0_6px_18px_rgba(255,255,255,0.10)]\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        <div className=\"flex items-center space-x-1\">\n                          {post.platforms.map((platformId) => {\n                            const platformData = platforms[platformId];\n                            const Icon = platformData?.icon;\n                            return Icon ? (\n                              <div\n                                key={platformId}\n                                className={`w-6 h-6 ${platformData.color} rounded flex items-center justify-center`}\n                              >\n                                <Icon className=\"w-3 h-3 text-white\" />\n                              </div>\n                            ) : null;\n                          })}\n                        </div>\n                        <span className=\"text-sm font-medium text-white\">\n                          {new Date(post.scheduledAt).toLocaleTimeString([], { \n                            hour: '2-digit', \n                            minute: '2-digit' \n                          })}\n                        </span>\n                        {getStatusIcon(post.status)}\n                      </div>\n                      \n                      <p className=\"text-sm text-white/80 mb-2\">{post.caption}</p>\n                      \n                      {post.video && (\n                        <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n                          <span>Video: {post.video.title}</span>\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => handleDeletePost(post.id)}\n                        className=\"p-1 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded transition-colors\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SocialMediaCalendar;","import React from 'react';\n\nconst stepsFromProgress = (progress) => {\n  if (progress < 33) return 'Preparing';\n  if (progress < 66) return 'Editing';\n  if (progress < 100) return 'Finalizing';\n  return 'Completed';\n};\n\nexport default function ProcessingStatusModal({ isOpen, videoTitle, status, progress, errorMessage, onClose }) {\n  if (!isOpen) return null;\n\n  const stepLabel = stepsFromProgress(progress || 0);\n\n  return (\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4\" onClick={onClose}>\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"px-5 py-4 border-b\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Processing: {videoTitle || 'Video'}</h3>\n          <p className=\"text-sm text-gray-600\">Status: {status || 'processing'}  Step: {stepLabel}</p>\n        </div>\n        <div className=\"px-5 py-4\">\n          <div className=\"w-full bg-gray-200 rounded-full h-2 mb-3\">\n            <div className=\"bg-blue-600 h-2 rounded-full transition-all\" style={{ width: `${Math.min(progress || 0, 100)}%` }} />\n          </div>\n          <ul className=\"text-sm text-gray-700 space-y-1\">\n            <li className={`${progress >= 1 ? 'text-blue-700' : 'text-gray-500'}`}> Preparing</li>\n            <li className={`${progress >= 33 ? 'text-blue-700' : 'text-gray-500'}`}> Editing</li>\n            <li className={`${progress >= 66 ? 'text-blue-700' : 'text-gray-500'}`}> Finalizing</li>\n          </ul>\n          {errorMessage && (\n            <div className=\"mt-3 p-3 bg-red-50 text-red-700 rounded\">Error: {errorMessage}</div>\n          )}\n        </div>\n        <div className=\"px-5 py-3 border-t flex justify-end\">\n          <button onClick={onClose} className=\"px-4 py-2 rounded bg-gray-100 text-gray-800 hover:bg-gray-200\">Close</button>\n        </div>\n      </div>\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Loader\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTgiIHkyPSIyMiIgLz4KICA8bGluZSB4MT0iNC45MyIgeDI9IjcuNzYiIHkxPSI0LjkzIiB5Mj0iNy43NiIgLz4KICA8bGluZSB4MT0iMTYuMjQiIHgyPSIxOS4wNyIgeTE9IjE2LjI0IiB5Mj0iMTkuMDciIC8+CiAgPGxpbmUgeDE9IjIiIHgyPSI2IiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTgiIHgyPSIyMiIgeTE9IjEyIiB5Mj0iMTIiIC8+CiAgPGxpbmUgeDE9IjQuOTMiIHgyPSI3Ljc2IiB5MT0iMTkuMDciIHkyPSIxNi4yNCIgLz4KICA8bGluZSB4MT0iMTYuMjQiIHgyPSIxOS4wNyIgeTE9IjcuNzYiIHkyPSI0LjkzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/loader\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Loader = createLucideIcon('Loader', [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '6', key: 'gza1u7' }],\n  ['line', { x1: '12', x2: '12', y1: '18', y2: '22', key: '1qhbu9' }],\n  ['line', { x1: '4.93', x2: '7.76', y1: '4.93', y2: '7.76', key: 'xae44r' }],\n  ['line', { x1: '16.24', x2: '19.07', y1: '16.24', y2: '19.07', key: 'bxnmvf' }],\n  ['line', { x1: '2', x2: '6', y1: '12', y2: '12', key: '89khin' }],\n  ['line', { x1: '18', x2: '22', y1: '12', y2: '12', key: 'pb8tfm' }],\n  ['line', { x1: '4.93', x2: '7.76', y1: '19.07', y2: '16.24', key: '1uxjnu' }],\n  ['line', { x1: '16.24', x2: '19.07', y1: '7.76', y2: '4.93', key: '6duxfx' }],\n]);\n\nexport default Loader;\n","import React from 'react';\n \nimport '../styles/stars.css';\n\n/**\n * DashboardStructure\n * Lightweight prototype of the desired block layout so we can iterate\n * container-by-container. Uses existing theme utilities (btn, btn-primary,\n * glass-card) to stay consistent with the site style.\n */\nexport default function DashboardStructure({\n  uploadContent,\n  processContent,\n  uploadCompleted,\n  processCompleted = false,\n  scheduleCompleted = false,\n  stepIndex = 0,\n  onNext,\n  onPrev,\n  onFinish,\n  onUploadClick,\n}) {\n  \n\n  // Helpers to soften accent colors when Calm Mode is enabled\n  \n  const lastIndex = 3; // four slides: 0,1,2,3\n  const totalSlides = lastIndex + 1;\n  const perSlideShift = 100 / totalSlides; // percent of track width to move per slide\n  // Navigation is button-driven only; disable scroll/keyboard-based transitions\n  return (\n    <div className=\"relative w-full h-screen\">\n      {/* Horizontal grey dotted timeline across the full right pane; above wrapper, below card */}\n      <div\n        aria-hidden=\"true\"\n        className={\"pointer-events-none absolute left-0 right-0 top-1/2 -translate-y-1/2 z-[5]\"}\n      >\n        <div className=\"w-full h-0 border-t-2 border-gray-600 border-dashed opacity-90\"></div>\n      </div>\n\n      {/* Progress ticks removed to avoid green check behind cards */}\n\n      {/* Narrow centered section for wizard content */}\n      <section\n        id=\"structure-preview\"\n        className=\"relative w-full h-full overflow-hidden\"\n        tabIndex={0}\n      >\n        \n\n        {/* Slides container: four steps (Upload, Process, Schedule, Confirm) */}\n        <div\n          className=\"relative z-10 flex h-screen transition-transform duration-700 ease-out\"\n          style={{ width: `${100 * totalSlides}%`, transform: `translateX(-${(stepIndex || 0) * perSlideShift}%)` }}\n        >\n        {/* Slide 1: Upload */}\n        <div className=\"w-full h-screen relative\">\n          {/* Centered card */}\n          <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0\">\n            <div\n              className=\"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl w-full p-6 max-w-[620px] relative z-10\"\n              aria-label=\"Upload container\"\n            >\n              <h2 className=\"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4\" style={{ textShadow: '0 2px 8px rgba(0,0,0,0.9)' }}>\n                STEP 1\n              </h2>\n              {uploadContent && (\n                <div className=\"w-full\">\n                  {uploadContent}\n                </div>\n              )}\n            </div>\n            {/* Navigation controls under card with 16px gutter */}\n            <div className=\"mt-4 relative z-10 flex items-center justify-center\">\n              <div className=\"flex items-center gap-2\">\n                {typeof onNext === 'function' && (\n                  <button\n                    className=\"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl shadow-2xl min-w-[180px] sm:min-w-[220px] disabled:opacity-50 disabled:cursor-not-allowed\"\n                    onClick={onNext}\n                    disabled={!uploadCompleted}\n                    aria-disabled={!uploadCompleted}\n                  >\n                    Next step\n                  </button>\n                )}\n                {!uploadCompleted && (\n                  <div className=\"group relative\">\n                    <button\n                      type=\"button\"\n                      className=\"w-6 h-6 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center font-bold shadow\"\n                      aria-label=\"Upload required tooltip\"\n                    >\n                      ?\n                    </button>\n                    <div\n                      role=\"tooltip\"\n                      className=\"absolute left-1/2 -translate-x-1/2 mt-2 w-max max-w-xs px-3 py-2 rounded-lg bg-gray-800 text-white text-xs shadow-lg opacity-0 group-hover:opacity-100\"\n                    >\n                      Upload content to proceed to the next step\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          {/* Removed the below-card completion indicator to avoid overlapping the Next step button */}\n        </div>\n\n        {/* Slide 2: Process */}\n        <div className=\"w-full h-screen relative\">\n          \n          <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0\">\n            <div\n              className=\"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl p-6 w-full max-w-[620px] relative z-10\"\n              aria-label=\"Process container\"\n            >\n              <h2 className=\"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4\" style={{ textShadow: '0 2px 8px rgba(0,0,0,0.9)' }}>\n                STEP 2\n              </h2>\n              {processContent && (\n                <div className=\"w-full\">\n                  {processContent}\n                </div>\n              )}\n            </div>\n            {/* Navigation controls under card with 16px gutter */}\n            <div className=\"mt-4 relative z-10 flex items-center justify-center gap-3\">\n              {typeof onPrev === 'function' && (\n                <button className=\"btn btn-secondary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]\" onClick={onPrev}>\n                  Back\n                </button>\n              )}\n              {typeof onNext === 'function' && (\n                <button\n                  className=\"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]\"\n                  onClick={onNext}\n                >\n                  Next\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Slide 3: Schedule */}\n        <div className=\"w-full h-screen relative\">\n          \n          <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0\">\n            <div\n              className=\"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl p-6 w-full max-w-[620px] relative z-10\"\n              aria-label=\"Schedule container\"\n            >\n              <h2 className=\"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4\" style={{ textShadow: '0 2px 8px rgba(0,0,0,0.9)' }}>\n                STEP 3\n              </h2>\n              <div className=\"w-full\"></div>\n            </div>\n            {/* Navigation controls under card with 16px gutter */}\n            <div className=\"mt-4 relative z-10 flex items-center justify-center gap-3\">\n              {typeof onPrev === 'function' && (\n                <button className=\"btn btn-secondary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]\" onClick={onPrev}>\n                  Back\n                </button>\n              )}\n              {typeof onNext === 'function' && (\n                <button className=\"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl shadow-2xl min-w-[180px] sm:min-w-[220px]\" onClick={onNext}>\n                  Next step\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Slide 4: Confirm & Finish */}\n        <div className=\"w-full h-screen relative\">\n          \n          <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0\">\n            <div\n              className=\"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl p-6 w-full max-w-[620px] relative z-10\"\n              aria-label=\"Confirm container\"\n            >\n              <h2 className=\"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4\" style={{ textShadow: '0 2px 8px rgba(0,0,0,0.9)' }}>\n                STEP 4\n              </h2>\n              <div className=\"w-full\"></div>\n            </div>\n            {/* Navigation controls under card with 16px gutter */}\n            <div className=\"mt-4 relative z-10 flex items-center justify-center gap-3\">\n              {typeof onPrev === 'function' && (\n                <button className=\"btn btn-secondary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]\" onClick={onPrev}>\n                  Back\n                </button>\n              )}\n              {typeof onFinish === 'function' && (\n                <button\n                  className=\"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl shadow-2xl min-w-[180px] sm:min-w-[220px]\"\n                  onClick={onFinish}\n                  disabled={!scheduleCompleted}\n                >\n                  Finish\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","import React, { useMemo, useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\n// Deterministic PRNG so bubbles keep positions across steps/mounts\nfunction mulberry32(a) {\n  return function() {\n    let t = a += 0x6D2B79F5;\n    // Clarify precedence between bitwise XOR and zero-fill right shift\n    t = Math.imul(t ^ (t >>> 15), t | 1);\n    t ^= t + Math.imul(t ^ (t >>> 7), t | 61);\n    return (((t ^ (t >>> 14)) >>> 0) / 4294967296);\n  }\n}\nfunction strSeed(s) {\n  let h = 0;\n  for (let i = 0; i < (s || '').length; i++) {\n    h = Math.imul(31, h) + s.charCodeAt(i) | 0;\n  }\n  return h >>> 0;\n}\nfunction rand(min, max, r) {\n  const n = typeof r === 'function' ? r() : Math.random();\n  return n * (max - min) + min;\n}\n\nexport default function UploadBubbles({ files = [], className = '', onDelete }) {\n  const [thumbs, setThumbs] = useState({});\n  const [mountEl, setMountEl] = useState(null);\n  const [hovering, setHovering] = useState(false);\n  const bubbles = useMemo(() => {\n    const MAX_BUBBLES = 6; // cap to prevent GPU overload\n    return files.slice(0, MAX_BUBBLES).map((vf, i) => {\n      const file = vf.file || vf;\n      const url = URL.createObjectURL(file);\n      const seedStr = `${vf.id || i}-${file?.name || ''}-${file?.size || ''}`;\n      const r = mulberry32(strSeed(seedStr));\n      const size = Math.round(rand(52, 76, r));\n      const startLeft = `${Math.round(rand(6, 80, r))}%`;\n      const startTop = `${Math.round(rand(8, 70, r))}%`;\n      const dx = `${Math.round(rand(100, 240, r))}px`;\n      const dy = `${Math.round(rand(100, 220, r))}px`;\n      const durX = `${rand(10, 18, r).toFixed(2)}s`;\n      const durY = `${rand(10, 18, r).toFixed(2)}s`;\n      const delayX = `${rand(0, 2, r).toFixed(2)}s`;\n      const delayY = `${rand(0, 2, r).toFixed(2)}s`;\n      return { id: vf.id || i, file, url, size, startLeft, startTop, dx, dy, durX, durY, delayX, delayY };\n    });\n  }, [files]);\n\n  useEffect(() => {\n    // Create a global layer so bubbles are not constrained to the card container\n    if (typeof document !== 'undefined' && !mountEl) {\n      const el = document.createElement('div');\n      el.className = 'upload-bubbles-layer';\n      // Fixed, full-viewport, non-interactive, behind other content\n      el.style.position = 'fixed';\n      el.style.inset = '0';\n      // Keep wrapper non-interactive; individual bubbles will enable pointer events\n      el.style.pointerEvents = 'none';\n      // Keep on top of the upload card and other content\n      el.style.zIndex = '300';\n      document.body.appendChild(el);\n      setMountEl(el);\n    }\n  }, [mountEl]);\n\n  useEffect(() => {\n    // Capture a quick thumbnail per file (video or image) using an offscreen canvas\n    const resources = [];\n    bubbles.forEach((b) => {\n      if (thumbs[b.id]) return; // already captured\n      const type = b.file?.type || '';\n      const name = b.file?.name?.toLowerCase() || '';\n      const isImage = type.startsWith('image/') || /(\\.jpg|\\.jpeg|\\.png|\\.gif|\\.webp|\\.heic|\\.heif)$/.test(name);\n      if (isImage) {\n        try {\n          const img = new Image();\n          img.crossOrigin = 'anonymous';\n          img.src = b.url;\n          resources.push({ kind: 'img', el: img, url: b.url });\n          img.onload = async () => {\n            try {\n              try { await img.decode?.(); } catch (_) {}\n              const canvas = document.createElement('canvas');\n              const maxW = 320;\n              const scale = Math.min(1, maxW / (img.naturalWidth || b.size));\n              const w = Math.round((img.naturalWidth || b.size) * scale) || b.size;\n              const h = Math.round((img.naturalHeight || b.size) * scale) || b.size;\n              canvas.width = w;\n              canvas.height = h;\n              const ctx = canvas.getContext('2d');\n              ctx.drawImage(img, 0, 0, w, h);\n              const dataUrl = canvas.toDataURL('image/jpeg', 0.8);\n              setThumbs((prev) => ({ ...prev, [b.id]: dataUrl }));\n            } catch (_) {}\n            try { URL.revokeObjectURL(b.url); } catch (_) {}\n          };\n          img.onerror = () => {\n            // If image fails to decode, leave placeholder\n            try { URL.revokeObjectURL(b.url); } catch (_) {}\n          };\n        } catch (_) {}\n      } else {\n        try {\n          const vid = document.createElement('video');\n          vid.preload = 'metadata';\n          vid.muted = true;\n          vid.playsInline = true;\n          vid.src = b.url;\n          resources.push({ kind: 'vid', el: vid, url: b.url });\n          const onLoadedMeta = () => {\n            try {\n              // Seek slightly forward to ensure a decoded frame\n              vid.currentTime = 0.12;\n            } catch (_) {}\n          };\n          const onSeeked = () => {\n            try {\n              const canvas = document.createElement('canvas');\n              const w = Math.min(vid.videoWidth || b.size, 320);\n              const hRaw = (vid.videoHeight || b.size);\n              const h = Math.round(hRaw * (w / (vid.videoWidth || b.size)));\n              canvas.width = w;\n              canvas.height = h > 0 ? h : w;\n              const ctx = canvas.getContext('2d');\n              ctx.drawImage(vid, 0, 0, canvas.width, canvas.height);\n              const dataUrl = canvas.toDataURL('image/jpeg', 0.7);\n              setThumbs((prev) => ({ ...prev, [b.id]: dataUrl }));\n            } catch (_) {\n              // fallback: keep placeholder\n            } finally {\n              try {\n                vid.removeEventListener('loadedmetadata', onLoadedMeta);\n                vid.removeEventListener('seeked', onSeeked);\n                vid.pause();\n              } catch (_) {}\n              try { URL.revokeObjectURL(b.url); } catch (_) {}\n            }\n          };\n          vid.addEventListener('loadedmetadata', onLoadedMeta, { once: true });\n          vid.addEventListener('seeked', onSeeked, { once: true });\n        } catch (_) {}\n      }\n    });\n    return () => {\n      // Clean up loaders and blob URLs to avoid ERR_FILE_NOT_FOUND spam\n      resources.forEach((r) => {\n        try {\n          if (r.kind === 'img') {\n            r.el.onload = null;\n            r.el.onerror = null;\n            r.el.src = '';\n          } else if (r.kind === 'vid') {\n            r.el.pause?.();\n            r.el.removeEventListener?.('loadedmetadata', () => {});\n            r.el.removeEventListener?.('seeked', () => {});\n            r.el.src = '';\n            r.el.removeAttribute?.('src');\n            r.el.load?.();\n          }\n        } catch (_) {}\n        // IMPORTANT: Do NOT revoke here.\n        // In React dev mode (StrictMode), effects run twice which can\n        // trigger cleanup before the image/video loader has finished.\n        // Revoking the object URL during cleanup causes the browser\n        // to attempt a network fetch for a now-invalid blob URL,\n        // resulting in net::ERR_FILE_NOT_FOUND logs.\n        // We only revoke the object URLs inside the onload/onerror/onseeked\n        // handlers above, after we've captured the thumbnail.\n      });\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [files]);\n\n  if (!files || files.length === 0) return null;\n\n  if (!mountEl) return null;\n  return createPortal(\n    <div\n      className={`absolute inset-0 ${className} ${hovering ? 'bubbles-paused' : ''}`}\n      style={{ zIndex: 300, willChange: 'transform, opacity', pointerEvents: 'none' }}\n    >\n      {bubbles.map((b) => (\n        <div\n          key={b.id}\n          className=\"upload-bubble-anim-x\"\n          style={{\n            left: b.startLeft,\n            top: b.startTop,\n            '--dx': b.dx,\n            animationDuration: b.durX,\n            animationDelay: b.delayX,\n          }}\n        >\n          <div\n            className={`upload-bubble upload-bubble--badge ${thumbs[b.id] ? 'upload-bubble--ready upload-bubble--highlight' : 'upload-bubble--loading upload-bubble--highlight'}`}\n            style={{\n              width: b.size,\n              height: b.size,\n              '--dy': b.dy,\n              animationDuration: b.durY,\n              animationDelay: b.delayY,\n              boxShadow: '0 10px 22px rgba(0,0,0,0.14), inset 0 1px 0 rgba(255,255,255,0.35)',\n              pointerEvents: 'auto',\n            }}\n            onMouseEnter={() => setHovering(true)}\n            onMouseLeave={() => setHovering(false)}\n          >\n            {thumbs[b.id] ? (\n              <img src={thumbs[b.id]} alt=\"thumbnail\" className=\"upload-bubble-thumb\" />\n            ) : (\n              // lightweight placeholder while thumbnail is captured\n              <div className=\"upload-bubble-thumb\" style={{\n                background: 'linear-gradient(135deg, #ffffff 0%, #e9eef7 100%)'\n              }} />\n            )}\n            {/* Removed bubble-level tick for a cleaner overlay */}\n            {hovering && (\n              <button\n                type=\"button\"\n                className=\"upload-bubble-delete\"\n                aria-label=\"Remove selection\"\n                onClick={(e) => { e.preventDefault(); e.stopPropagation(); onDelete && onDelete(b.id); }}\n              >\n                \n              </button>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>,\n    mountEl\n  );\n}","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useStats } from '../contexts/StatsContext';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport VideoEditingWizard from '../components/VideoEditingWizard';\nimport ProfilePictureUploader from '../components/ProfilePictureUploader';\nimport OnboardingModal from '../components/OnboardingModal';\nimport SocialMediaPopup from '../components/SocialMediaPopup';\nimport SocialMediaScheduler from '../components/SocialMediaScheduler';\nimport SocialMediaCalendar from '../components/SocialMediaCalendar';\nimport ProcessingStatusModal from './ProcessingStatusModal';\nimport { \n  Upload, \n  Video, \n  Download, \n  FileVideo,\n  AlertCircle,\n  CheckCircle,\n  Clock,\n  X,\n  Loader,\n  BarChart3,\n  Crown,\n  HardDrive,\n  \n} from 'lucide-react';\nimport '../styles/glass.css';\nimport DashboardStructure from '../components/DashboardStructure';\nimport UploadBubbles from '../components/UploadBubbles';\n// UploadNotificationIndicator moved back into header; below-header indicator removed\n\nconst Dashboard = () => {\n  const { user, refreshUser } = useAuth();\n  const { stats, fetchStats, formatFileSize } = useStats();\n  const location = useLocation();\n  const videosSectionRef = useRef(null);\n  const [flowStep, setFlowStep] = useState(0);\n  const [flowActive, setFlowActive] = useState(true);\n  // Aggregate upload notifications so multiple uploads project to one toast\n  const [, setUploadNotif] = useState(null);\n  const uploadNotifRef = useRef(null);\n  const updateUploadToast = useCallback((delta = { success: 0, error: 0, totalAdd: 0 }, finalMessage) => {\n    let agg = uploadNotifRef.current;\n    if (!agg || !agg.toastId) {\n      // Initialize aggregator\n      agg = {\n        total: delta.totalAdd || 0,\n        success: 0,\n        error: 0,\n        toastId: toast.loading(`Uploading 0/${delta.totalAdd || 0}...`, { duration: Infinity })\n      };\n      uploadNotifRef.current = agg;\n      setUploadNotif(agg);\n    } else if (delta.totalAdd) {\n      agg.total += delta.totalAdd;\n    }\n\n    agg.success += delta.success || 0;\n    agg.error += delta.error || 0;\n\n    // Emit lightweight global notification events for header indicator\n    try {\n      if (typeof window !== 'undefined') {\n        if (delta.success && delta.success > 0) {\n          window.dispatchEvent(new CustomEvent('upload-notification', { detail: { kind: 'success' } }));\n        }\n        if (delta.error && delta.error > 0) {\n          window.dispatchEvent(new CustomEvent('upload-notification', { detail: { kind: 'error' } }));\n        }\n      }\n    } catch {}\n    const done = agg.success + agg.error;\n    const allDone = agg.total > 0 && done >= agg.total;\n    const text = finalMessage || (allDone\n      ? `Uploaded ${agg.success}/${agg.total}${agg.error ? `  ${agg.error} failed` : ''}`\n      : `Uploading ${done}/${agg.total}...`);\n\n    if (allDone) {\n      if (agg.error) {\n        toast.error(text, { id: agg.toastId, duration: 6000 });\n      } else {\n        toast.success(text, { id: agg.toastId, duration: 6000 });\n      }\n    } else {\n      // Update the existing loading toast by re-calling loading with same id\n      toast.loading(text, { id: agg.toastId, duration: Infinity });\n    }\n\n    if (allDone) {\n      setUploadNotif(null);\n      uploadNotifRef.current = null;\n    } else {\n      setUploadNotif({ ...agg });\n    }\n  }, []);\n  \n\n  // Robust scroll helper for My Files\n  const scrollToVideosSection = useCallback(() => {\n    const getOffset = () => {\n      try {\n        const header = document.getElementById('dashboard-header');\n        const h = header ? header.offsetHeight : 64;\n        return h + 8;\n      } catch (_) {\n        return 72;\n      }\n    };\n\n    const attemptScroll = () => {\n      const el = videosSectionRef.current || document.getElementById('videos-section');\n      if (!el) return false;\n\n      const offset = getOffset();\n      const y = el.getBoundingClientRect().top + window.scrollY - offset;\n      try {\n        window.scrollTo({ top: Math.max(y, 0), behavior: 'smooth' });\n      } catch (_) {\n        window.scrollTo(0, Math.max(y, 0));\n      }\n      if (typeof el.focus === 'function') {\n        try { el.focus({ preventScroll: true }); } catch (_) {}\n      }\n      return true;\n    };\n\n    if (attemptScroll()) return;\n    const retries = [100, 250, 500];\n    for (const ms of retries) {\n      setTimeout(() => attemptScroll(), ms);\n    }\n  }, []);\n  \n  console.log('Dashboard Debug - User:', user);\n  console.log('Dashboard Debug - Stats:', stats);\n  console.log('Dashboard Debug - User Role:', user?.role);\n  console.log('Dashboard Debug - User Plan:', user?.plan);\n  console.log('Dashboard Debug - Stats Plan:', stats?.plan);\n\n  // Add a manual refresh button for testing\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.key === 'F5' || (e.ctrlKey && e.key === 'r')) {\n        e.preventDefault();\n        refreshUser();\n        fetchStats();\n      }\n    };\n    \n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [refreshUser, fetchStats]);\n\n  const navigate = useNavigate();\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [pendingVideoFiles, setPendingVideoFiles] = useState([]);\n  const [showWizard, setShowWizard] = useState(false);\n  const [uploadStepComplete, setUploadStepComplete] = useState(false);\n  const [lastUploadedItem, setLastUploadedItem] = useState(null);\n  const [activeSection, setActiveSection] = useState('dashboard');\n  \n  const [showUploader, setShowUploader] = useState(false);\n  const handleVideoProcessingRef = useRef(null);\n\n  // Processing modal & status polling\n  const [processingModalOpen, setProcessingModalOpen] = useState(false);\n  const [processingVideo] = useState(null); // { id, title }\n  const [processingStatus] = useState(null); // { status, progress, errorMessage }\n\n  const [socialMediaPopupOpen, setSocialMediaPopupOpen] = useState(false);\n  const [socialMediaData, setSocialMediaData] = useState({\n    instagram: '',\n    tiktok: '',\n    youtube: '',\n    twitter: '',\n    facebook: ''\n  });\n  const [showSocialScheduler, setShowSocialScheduler] = useState(false);\n  const [schedulerVideo, setSchedulerVideo] = useState(null);\n\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [videoBlobUrl, setVideoBlobUrl] = useState(null);\n  const [videoLoading, setVideoLoading] = useState(false);\n  const [connectingDrive, setConnectingDrive] = useState(false);\n\n  // Backup state\n  const [backupLoading, setBackupLoading] = useState(false);\n  const [backups, setBackups] = useState([]);\n  const [showBackupModal, setShowBackupModal] = useState(false);\n  const [backupProgress, setBackupProgress] = useState(0);\n  const [currentBackup, setCurrentBackup] = useState(null);\n  const [backupComplete, setBackupComplete] = useState(false);\n  const [showBackupListModal, setShowBackupListModal] = useState(false);\n\n  // Video editing state\n  \n\n  // Robust API base resolution\n  const rawBase = (process.env.REACT_APP_API_URL || axios.defaults.baseURL || '');\n  const trimmed = (rawBase || '').replace(/\\/$/, '');\n  const baseNoApi = /\\/api$/.test(trimmed) ? trimmed.replace(/\\/api$/, '') : trimmed;\n  const origin = (typeof window !== 'undefined') ? window.location.origin : '';\n  const devOverride = origin.includes('localhost:3000') ? 'http://localhost:5000' : origin;\n  const API_BASE = baseNoApi || devOverride;\n  const api = useCallback((p) => `${API_BASE}${p}`,[API_BASE]);\n\n  const loadVideoBlob = useCallback(async (video) => {\n    setVideoLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      \n      // Use the stream endpoint for video preview\n      const response = await axios.get(api(`/api/videos/${video._id}/stream`), {\n        headers: { Authorization: `Bearer ${token}` },\n        responseType: 'blob'\n      });\n      \n      const blob = new Blob([response.data], { type: 'video/mp4' });\n      const url = URL.createObjectURL(blob);\n      setVideoBlobUrl(url);\n    } catch (error) {\n      console.error('Error loading video blob:', error);\n      toast.error('Failed to load video preview');\n    } finally {\n      setVideoLoading(false);\n    }\n  }, [api]);\n\n  \n\n  const closePreviewModal = () => {\n    setShowPreviewModal(false);\n    setSelectedVideo(null);\n    if (videoBlobUrl) {\n      URL.revokeObjectURL(videoBlobUrl);\n      setVideoBlobUrl(null);\n    }\n    setVideoLoading(false);\n  };\n\n  const handleSaveSocialMedia = async (socialData) => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`/api/users/social-media`, socialData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      setSocialMediaData(socialData);\n      setSocialMediaPopupOpen(false);\n      toast.success('Social media links updated successfully!');\n    } catch (error) {\n      console.error('Error updating social media:', error);\n      toast.error('Failed to update social media links');\n    }\n  };\n\n  const onDrop = useCallback(async (acceptedFiles) => {\n    const isVideo = (f) => (f.type || '').startsWith('video/') || /\\.(mp4|avi|mov|wmv|flv|webm|mkv)$/i.test(f.name || '');\n    const isImage = (f) => (f.type || '').startsWith('image/') || /\\.(jpg|jpeg|png|gif|webp|heic|heif)$/i.test(f.name || '');\n    const mediaFiles = acceptedFiles.filter(f => isVideo(f) || isImage(f));\n    const rejected = acceptedFiles.filter(f => !(isVideo(f) || isImage(f)));\n    if (rejected.length > 0) {\n      toast.error(`Only videos or images are supported. Skipped ${rejected.length} unsupported file${rejected.length > 1 ? 's' : ''}.`);\n    }\n    if (mediaFiles.length === 0) {\n      return;\n    }\n\n    // Immediately mark upload step as complete when we start sending to server\n    setUploadStepComplete(true);\n\n    // Add to pending (for bubbles/visuals) and immediately start upload\n    // Initialize or extend the aggregated upload toast\n    updateUploadToast({ totalAdd: mediaFiles.length });\n    for (const file of mediaFiles) {\n      const pendingId = Date.now() + Math.random();\n      // Add to pending immediately so bubbles render regardless of server response\n      setPendingVideoFiles(prevFiles => ([...prevFiles, { file, id: pendingId }]));\n      const proc = handleVideoProcessingRef.current;\n      if (!proc) break;\n      // Fire upload without awaiting to allow concurrent uploads\n      Promise.resolve(proc({ file, id: pendingId, title: file.name }))\n        .catch(() => {\n          // Keep the bubble even if upload fails; thumbnail generation is client-side\n          // Optional: could mark a failed state here in future without removing bubble\n          updateUploadToast({ error: 1 });\n        });\n    }\n  }, [updateUploadToast]);\n\n  const handleConnectGoogleDrive = async () => {\n    try {\n      setConnectingDrive(true);\n      const { data } = await axios.get('/api/integrations/google-drive/auth');\n      if (data?.url) {\n        window.location.href = data.url;\n      } else {\n        toast.error('Failed to start Google Drive auth');\n        setConnectingDrive(false);\n      }\n    } catch (error) {\n      console.error('Google Drive auth error:', error);\n      toast.error(error.response?.data?.message || 'Google Drive auth failed');\n      setConnectingDrive(false);\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive, open } = useDropzone({\n    onDrop,\n    accept: {\n      'video/*': ['.mp4', '.avi', '.mov', '.wmv', '.flv', '.webm', '.mkv'],\n      'image/*': ['.jpg', '.jpeg', '.png', '.gif', '.webp', '.heic', '.heif']\n    },\n    multiple: true,\n    // Keep dropzone interactive to allow adding more files during ongoing uploads\n    disabled: false\n  });\n\n  useEffect(() => {\n    if (location.pathname === '/my-files' || location.hash === '#files') {\n      scrollToVideosSection();\n    }\n    if (location.pathname === '/dashboard') {\n      if (location.hash === '#social') {\n        setActiveSection('social');\n      } else if (location.hash === '#settings') {\n        setActiveSection('settings');\n      } else {\n        setActiveSection('dashboard');\n      }\n    }\n  }, [location.pathname, location.hash, scrollToVideosSection]);\n\n  // Horizontal flow controls for the new slider in DashboardStructure\n  const finishFlow = useCallback(() => {\n    setFlowActive(false);\n    try {\n      document.documentElement.style.overflow = '';\n      document.body.style.overflow = '';\n    } catch (_) {}\n    scrollToVideosSection();\n  }, [scrollToVideosSection]);\n\n  // Lightweight pop sound played on Next step from Upload slide\n  const playPopSound = useCallback(async () => {\n    try {\n      const AudioCtx = window.AudioContext || window.webkitAudioContext;\n      if (!AudioCtx) return;\n      const ctx = new AudioCtx();\n      if (ctx.state === 'suspended') {\n        try { await ctx.resume(); } catch (_) {}\n      }\n      const osc = ctx.createOscillator();\n      const gain = ctx.createGain();\n      osc.type = 'sine';\n      const now = ctx.currentTime;\n      osc.frequency.setValueAtTime(280, now);\n      osc.frequency.exponentialRampToValueAtTime(80, now + 0.12);\n      gain.gain.setValueAtTime(0.001, now);\n      gain.gain.exponentialRampToValueAtTime(0.35, now + 0.02);\n      gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.15);\n      osc.connect(gain).connect(ctx.destination);\n      osc.start(now);\n      osc.stop(now + 0.16);\n      osc.onended = () => {\n        try { gain.disconnect(); osc.disconnect(); ctx.close(); } catch (_) {}\n      };\n    } catch (_) {}\n  }, []);\n\n  const nextFlowStep = useCallback(async () => {\n    setFlowActive(true);\n    // If on Step 2 (index 1), ask for confirmation and trigger server move\n    if (flowStep === 1) {\n      try {\n        const token = localStorage.getItem('token');\n        const listRes = await axios.get(api('/api/videos'), {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        let list = [];\n        if (Array.isArray(listRes.data)) {\n          list = listRes.data;\n        } else if (listRes.data && Array.isArray(listRes.data.videos)) {\n          list = listRes.data.videos;\n        } else if (listRes.data && listRes.data.data && Array.isArray(listRes.data.data)) {\n          list = listRes.data.data;\n        }\n        setVideos(list);\n        let target = null;\n        if (lastUploadedItem?.name) {\n          target = list.find(v => (v.title || v.filename) === lastUploadedItem.name && (v.status === 'ready' || v.status === 'completed')) || null;\n        }\n        if (!target) {\n          const ready = list.filter(v => v.status === 'ready');\n          ready.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n          target = ready[0] || null;\n        }\n        if (!target) {\n          toast.error('No ready video found to process');\n          return;\n        }\n        await axios.post(api(`/api/videos/${target._id}/process`), { editingOptions: {} }, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        toast.success('Video queued for editing');\n      } catch (error) {\n        const msg = error?.response?.data?.message || 'Failed to queue video for editing';\n        toast.error(msg);\n        return; // Do not advance if server action failed\n      }\n    }\n    setFlowStep((s) => {\n      if (s >= 3) {\n        // Already at last slide: finish the flow and bounce to videos\n        setTimeout(() => finishFlow(), 0);\n        return s;\n      }\n      return Math.min(s + 1, 3);\n    });\n  }, [finishFlow, flowStep, api]);\n\n  const prevFlowStep = useCallback(() => {\n    setFlowStep((s) => Math.max(s - 1, 0));\n  }, []);\n\n  useEffect(() => {\n    // Lock vertical scroll while the horizontal flow is active\n    try {\n      if (flowActive) {\n        document.documentElement.style.overflow = 'hidden';\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.documentElement.style.overflow = '';\n        document.body.style.overflow = '';\n      }\n    } catch (_) {}\n    return () => {\n      try {\n        document.documentElement.style.overflow = '';\n        document.body.style.overflow = '';\n      } catch (_) {}\n    };\n  }, [flowActive]);\n\n  // Ensure scrolling is enabled when switching away from the dashboard flow\n  useEffect(() => {\n    if (activeSection !== 'dashboard') {\n      setFlowActive(false);\n      try {\n        document.documentElement.style.overflow = '';\n        document.body.style.overflow = '';\n      } catch (_) {}\n    }\n  }, [activeSection]);\n\n  // Play a bubble pop sound when entering each step (03)\n  const lastStepRef = useRef(flowStep);\n  useEffect(() => {\n    try {\n      if (typeof flowStep === 'number' && flowStep !== lastStepRef.current) {\n        playPopSound();\n        lastStepRef.current = flowStep;\n      }\n    } catch (_) {}\n  }, [flowStep, playPopSound]);\n\n  // Ensure we start at top with the horizontal flow visible\n  useEffect(() => {\n    if (flowActive) {\n      try { window.scrollTo({ top: 0, behavior: 'auto' }); } catch (_) { window.scrollTo(0, 0); }\n    }\n  }, [flowActive]);\n\n  const fetchVideos = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      console.log('Fetching videos with token:', token ? 'Present' : 'Missing');\n      \n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/videos`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      console.log('API Response:', response.data);\n      \n      let videosData = [];\n      if (Array.isArray(response.data)) {\n        videosData = response.data;\n      } else if (response.data && Array.isArray(response.data.videos)) {\n        videosData = response.data.videos;\n      } else if (response.data && response.data.data && Array.isArray(response.data.data)) {\n        videosData = response.data.data;\n      }\n      \n      console.log('Processed videos data:', videosData);\n      console.log('Number of videos:', videosData.length);\n      \n      setVideos(videosData);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n      if (error.response?.status === 401) {\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else {\n        toast.error('Failed to fetch videos');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [navigate]);\n\n  \n\n  const handleVideoProcessing = useCallback(async (videoData) => {\n    // Mark step complete immediately at upload start\n    setUploadStepComplete(true);\n    setUploading(true);\n    setUploadProgress(0);\n    \n    try {\n      // Handle data from VideoEditingWizard: support multiple files and editingData\n      const filesArray = Array.isArray(videoData.orderedFiles)\n        ? videoData.orderedFiles.map(f => f.file || f)\n        : (videoData.file ? [videoData.file] : []);\n\n      if (!filesArray.length) {\n        console.error('No files found in videoData:', videoData);\n        toast.error('No file selected for upload');\n        return;\n      }\n\n      const formData = new FormData();\n      filesArray.forEach(f => formData.append('video', f));\n      const totalNewSize = filesArray.reduce((sum, f) => sum + (f.size || 0), 0);\n      const limit = stats?.storageLimit || 0;\n      const used = stats?.storageUsed || 0;\n      if (limit > 0 && used + totalNewSize > limit) {\n        toast.error(`Upload exceeds your storage limit. Used ${formatFileSize(used)}, adding ${formatFileSize(totalNewSize)} would exceed ${formatFileSize(limit)}.`);\n        return;\n      }\n      const primaryFile = filesArray[0];\n      const title = videoData.title || videoData.videoName || primaryFile.name;\n      formData.append('title', title);\n      formData.append('description', videoData.description || '');\n      formData.append('multipleFiles', String(filesArray.length > 1));\n      formData.append('fileCount', String(filesArray.length));\n      formData.append('fileNames', JSON.stringify(filesArray.map(f => f.name)));\n\n      // Collect editing data preferences to match server expectations\n      // Include new platform selection and story mode fields from the wizard\n      const editingData = {\n        videoName: videoData.videoName || title,\n        videoType: videoData.videoType || '',\n        targetAudience: videoData.targetAudience || '',\n        editingStyle: videoData.editingStyle || '',\n        duration: videoData.duration || '',\n        specialRequests: videoData.specialRequests || '',\n        platforms: Array.isArray(videoData.platforms) ? videoData.platforms : [],\n        recommendedDurations: videoData.recommendedDurations || {},\n        storyMode: Boolean(videoData.storyMode || videoData.isStory),\n        estimatedExtraCredits: typeof videoData.estimatedExtraCredits === 'number'\n          ? videoData.estimatedExtraCredits\n          : (videoData.storyMode || videoData.isStory ? 1 : 0)\n      };\n      formData.append('editingData', JSON.stringify(editingData));\n\n      const token = localStorage.getItem('token');\n      // Helper to retry upload on transient network changes\n      const postWithRetry = async (url, data, config, retries = 2, delayMs = 1000) => {\n        try {\n          return await axios.post(url, data, config);\n        } catch (err) {\n          const isNetworkChanged = err?.code === 'ERR_NETWORK_CHANGED' ||\n            (typeof err?.message === 'string' && err.message.includes('ERR_NETWORK_CHANGED')) ||\n            (typeof err?.toString === 'function' && err.toString().includes('ERR_NETWORK_CHANGED'));\n          if (retries > 0 && isNetworkChanged) {\n            await new Promise(r => setTimeout(r, delayMs));\n            return postWithRetry(url, data, config, retries - 1, delayMs * 2);\n          }\n          throw err;\n        }\n      };\n\n      const response = await postWithRetry(api('/api/videos/upload'), formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        },\n        maxBodyLength: Infinity,\n        maxContentLength: Infinity,\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n\n      console.log('Upload response:', response.data);\n      // Aggregate success into single notification\n      updateUploadToast({ success: 1 });\n      \n      // Do not remove bubbles on success; keep them until at least Step 2\n      // Removal is handled by flowStep progression to Step 3 or later\n\n      // Mark step completion and remember the uploaded item for the next container\n      setUploadStepComplete(true);\n      setLastUploadedItem({\n        name: title,\n        size: primaryFile?.size || 0\n      });\n\n      // Refresh lists to show the newly uploaded video in \"ready\" state\n      fetchVideos();\n      fetchStats();\n    } catch (error) {\n      console.error('Upload error:', error);\n      // Aggregate error into single notification and optionally show the last error message\n      const msg = error?.response?.data?.message;\n      updateUploadToast({ error: 1 }, msg ? `Upload error: ${msg}` : undefined);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  }, [stats, fetchVideos, fetchStats, api, formatFileSize, updateUploadToast]);\n\n  // Keep bubbles visible through Step 2; clear only after moving past it\n  useEffect(() => {\n    try {\n      if (flowStep >= 2 && pendingVideoFiles.length > 0) {\n        setPendingVideoFiles([]);\n      }\n    } catch (_) {}\n  }, [flowStep, pendingVideoFiles.length]);\n\n  // Bubbles remain static across Step 1 and Step 2; only slider moves\n\n  useEffect(() => {\n    handleVideoProcessingRef.current = handleVideoProcessing;\n  }, [handleVideoProcessing]);\n\n  // Explicitly start processing for a video when user clicks Process\n  \n\n  // Poll server for processing status every 2 seconds\n  \n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'processing':\n        return <Clock className=\"w-4 h-4 text-yellow-500\" />;\n      case 'ready':\n      case 'completed':\n        return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n      case 'failed':\n        return <AlertCircle className=\"w-4 h-4 text-red-500\" />;\n      default:\n        return <Clock className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n\n  useEffect(() => {\n    if (selectedVideo && (selectedVideo.status === 'ready' || selectedVideo.status === 'completed')) {\n      loadVideoBlob(selectedVideo);\n    }\n  }, [selectedVideo, loadVideoBlob]);\n\n  const downloadVideo = async (video) => {\n    try {\n      const token = localStorage.getItem('token');\n      \n      // Use the stream endpoint for downloading as well\n      const response = await axios.get(api(`/api/videos/${video._id}/stream`), {\n        headers: { Authorization: `Bearer ${token}` },\n        responseType: 'blob'\n      });\n      \n      const blob = new Blob([response.data], { type: 'video/mp4' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = video.filename || `video_${video._id}.mp4`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      \n      toast.success('Video download started');\n    } catch (error) {\n      console.error('Download error:', error);\n      toast.error('Failed to download video');\n    }\n  };\n\n  \n\n  // Admin backup functions\n\n  const handleCreateBackup = async () => {\n    if (backupLoading) return;\n    \n    // Reset states and show modal\n    setBackupProgress(0);\n    setBackupComplete(false);\n    setCurrentBackup(null);\n    setShowBackupModal(true);\n    setBackupLoading(true);\n\n    // Simulate progress updates\n    const progressInterval = setInterval(() => {\n      setBackupProgress(prev => {\n        if (prev >= 90) {\n          clearInterval(progressInterval);\n          return 90; // Stop at 90% until actual completion\n        }\n        return prev + Math.random() * 15; // Random progress increments\n      });\n    }, 500);\n\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        toast.error('Authentication required. Please log in again.');\n        setShowBackupModal(false);\n        return;\n      }\n\n      const response = await axios.post(api('/api/backup-simple/create'), {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      clearInterval(progressInterval);\n      setBackupProgress(100);\n      \n      // Treat any 200 OK with a backup name as success\n      if (response.status === 200 && response.data && response.data.backup) {\n        setCurrentBackup({\n          name: response.data.backup,\n          path: response.data.path,\n          size: 'Calculating...', // Will be updated with actual size\n          created: new Date().toLocaleString()\n        });\n        setBackupComplete(true);\n        \n        // Refresh backup list\n        await fetchBackups();\n      } else {\n        toast.error('Backup creation failed');\n        setShowBackupModal(false);\n      }\n    } catch (error) {\n      clearInterval(progressInterval);\n      console.error('Backup creation error:', error);\n      setShowBackupModal(false);\n      \n      if (error.response?.status === 403) {\n        toast.error('Admin access required for backup operations');\n      } else if (error.response?.status === 401) {\n        toast.error('Authentication failed. Please log in again.');\n      } else {\n        toast.error(error.response?.data?.message || 'Failed to create backup');\n      }\n    } finally {\n      setBackupLoading(false);\n    }\n  };\n\n  const handleDownloadBackup = () => {\n    if (currentBackup) {\n      handleDownloadBackupFromList(currentBackup.name);\n    }\n  };\n\n  const handleCloseBackupModal = () => {\n    setShowBackupModal(false);\n    setBackupProgress(0);\n    setBackupComplete(false);\n    setCurrentBackup(null);\n  };\n\n  const handleDeleteBackup = async (backupName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.delete(api(`/api/backup/${backupName}`), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        toast.success(`Backup ${backupName} deleted successfully`);\n        await fetchBackups(); // Refresh the list\n      } else {\n        toast.error('Failed to delete backup');\n      }\n    } catch (error) {\n      console.error('Error deleting backup:', error);\n      toast.error('Failed to delete backup');\n    }\n  };\n\n  const handleDownloadBackupFromList = (backupName) => {\n    try {\n      const token = localStorage.getItem('token');\n      const downloadUrl = api(`/api/backup-simple/download/${backupName}`);\n      \n      // Add authorization header by creating a fetch request\n      fetch(downloadUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        return response.blob();\n      })\n      .then(blob => {\n        // Create blob URL and trigger download\n        const url = window.URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `${backupName}.zip`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        window.URL.revokeObjectURL(url);\n        \n        toast.success(`Backup downloaded: ${backupName}.zip`);\n      })\n      .catch(error => {\n        console.error('Download error:', error);\n        toast.error(`Download failed: ${error.message}`);\n      });\n      \n    } catch (error) {\n      console.error('Download error:', error);\n      toast.error(`Download failed: ${error.message}`);\n    }\n  };\n\n  const formatBackupDate = (backup) => {\n    try {\n      if (backup.created) {\n        // Use the created timestamp from the API response\n        return new Date(backup.created).toLocaleString();\n      } else {\n        // Fallback to parsing the backup name format: backup-2025-10-09T11-15-58-077Z\n        const timestamp = backup.name.replace('backup-', '').replace(/T/, ' ').replace(/-/g, ':').replace('Z', '');\n        return new Date(timestamp).toLocaleString();\n      }\n    } catch (error) {\n      return 'Unknown date';\n    }\n  };\n\n\n  const fetchBackups = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`/api/backup/list`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        setBackups(response.data.backups);\n      }\n    } catch (error) {\n      console.error('Error fetching backups:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchVideos();\n    fetchStats();\n  }, [fetchVideos, fetchStats]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader className=\"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600\" />\n          <p className=\"text-gray-600 text-lg\">Loading your dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-transparent\">\n      <ProfilePictureUploader isOpen={showUploader} onClose={() => setShowUploader(false)} />\n      {/* Onboarding Modal: show if user hasnt connected Facebook and hasnt dismissed */}\n      {(() => {\n        try {\n          const dismissed = typeof window !== 'undefined' ? localStorage.getItem('onboardingDismissed') === 'true' : false;\n          const needsFacebook = !(Array.isArray(user?.linkedSocialAccounts) && user.linkedSocialAccounts.includes('facebook'));\n          const show = needsFacebook && !dismissed;\n          return <OnboardingModal isOpen={show} onClose={() => { if (typeof window !== 'undefined') localStorage.setItem('onboardingDismissed', 'true'); }} />;\n        } catch (_) {\n          return null;\n        }\n      })()}\n\n      \n            <main id=\"dashboard-main\" className=\"md:ml-64 bg-transparent min-h-[calc(100vh-4rem)] overflow-y-auto relative\" role=\"main\" aria-label=\"Dashboard content\">\n        {/* Dashboard Section */}\n        {activeSection === 'dashboard' && (\n          <div className=\"p-0 min-h-screen\">\n            {/* Single global bubbles overlay (portal) so positions persist across steps */}\n            {pendingVideoFiles.length > 0 && (\n              <UploadBubbles\n                files={pendingVideoFiles}\n                className=\"\"\n                onDelete={(id) => setPendingVideoFiles(prev => prev.filter(f => (f.id || f?.id) !== id))}\n              />\n            )}\n            {/* Structure prototype wired with real step content */}\n              <DashboardStructure\n                uploadCompleted={uploadStepComplete}\n                onUploadClick={open}\n                uploadContent={(\n                  <>\n                    <div\n                      {...getRootProps({ tabIndex: -1 })}\n                      className={`relative glass-dropzone rounded-xl p-8 text-center border-2 border-dashed transition-colors focus:outline-none outline-none focus-visible:outline-none focus:ring-0 focus-visible:ring-0 ${\n                        isDragActive\n                          ? 'border-blue-300/70 bg-white/20'\n                          : 'border-gray-600 hover:border-gray-700'\n                      } ${uploading ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n                    >\n                    <input id=\"dropzone-input\" {...getInputProps()} />\n                    <div className=\"plastic-badge w-16 h-16 mx-auto -mt-4 mb-3 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center ring-2 ring-blue-300/40 shadow-xl\">\n                      <Upload className=\"w-8 h-8 text-white\" />\n                    </div>\n                    {uploading ? (\n                      <div className=\"space-y-2\">\n                        <p className=\"text-gray-600\">Uploading... {uploadProgress}%</p>\n                        <div className=\"w-full bg-white/30 rounded-full h-2\">\n                          <div\n                            className=\"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${uploadProgress}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                    ) : isDragActive ? (\n                      <p className=\"text-blue-700 font-medium\">Drop videos and images here...</p>\n                    ) : (\n                      <div>\n                        <p className=\"text-black mb-1\">\n                          Drag & Drop Videos and Images Here\n                        </p>\n                        <p className=\"text-sm text-white\">\n                          Supports MP4, AVI, MOV, WMV, FLV, WebM, MKV; plus JPG, JPEG, PNG, GIF, WEBP, HEIC, HEIF\n                        </p>\n                      </div>\n                    )}\n                    {/* Removed floating green tick to keep UI clean */}\n                  </div>\n\n                  {/* Pending list replaced by floating bubbles UI */}\n                  {pendingVideoFiles.length > 0 && null}\n                </>\n              )}\n              processContent={(\n                <>\n                  {/* Primary instruction to initiate processing */}\n                  <div className=\"mb-4\">\n                    <p className=\"text-lg font-semibold text-gray-800\">\n                      Click <span className=\"text-blue-600\">Process Video</span> when youre ready for your files to be edited and prepared to schedule.\n                    </p>\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      Please hover or tap a bubble to remove it from the video process, or click Back to add more files.\n                    </p>\n                  </div>\n                </>\n              )}\n              stepIndex={flowStep}\n              onNext={nextFlowStep}\n              onPrev={prevFlowStep}\n              onFinish={finishFlow}\n            />\n\n            {/* Overlay removed; horizontal flow is now embedded in DashboardStructure */}\n            <div className=\"max-w-6xl mx-auto space-y-8\">\n              {/* Step 1 and Step 2 are now embedded in the structure above */}\n\n              {/* Step 3 removed: Social media connect no longer needed */}\n\n              {/* Videos Grid moved to My Files page */}\n            </div>\n          </div>\n        )}\n\n        {/* Stats Section */}\n        {activeSection === 'stats' && (\n          <div className=\"p-3 lg:p-4 min-h-screen\">\n            <div className=\"max-w-6xl mx-auto space-y-6\">\n              <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Analytics Dashboard</h2>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                  <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-blue-100 text-sm font-medium\">Total Videos</p>\n                        <p className=\"text-3xl font-bold\">{stats.videoCount || 0}</p>\n                      </div>\n                      <Video className=\"w-8 h-8 text-blue-200\" />\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-green-100 text-sm font-medium\">Storage Used</p>\n                        <p className=\"text-3xl font-bold\">{formatFileSize(stats.storageUsed || 0)}</p>\n                      </div>\n                      <HardDrive className=\"w-8 h-8 text-green-200\" />\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-purple-100 text-sm font-medium\">Plan</p>\n                        <p className=\"text-3xl font-bold\">{stats.plan || 'Free'}</p>\n                      </div>\n                      <Crown className=\"w-8 h-8 text-purple-200\" />\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-orange-100 text-sm font-medium\">Video Limit</p>\n                        <p className=\"text-3xl font-bold\">\n                          {user?.role === 'admin' ? '' : stats.maxVideos || 0}\n                        </p>\n                      </div>\n                      <BarChart3 className=\"w-8 h-8 text-orange-200\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Admin Section removed: use dedicated /admin route */}\n\n        {/* Backup Progress Modal */}\n        {showBackupModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl\">\n              <div className=\"text-center\">\n                {!backupComplete ? (\n                  <>\n                    {/* Progress Animation */}\n                    <div className=\"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg\">\n                      <HardDrive className=\"w-10 h-10 text-white animate-pulse\" />\n                    </div>\n                    \n                    <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">Creating Full Website Backup</h3>\n                     <p className=\"text-gray-600 mb-6\">Please wait while we backup your entire website including database, server files, client files, and configuration...</p>\n                    \n                    {/* Progress Bar */}\n                    <div className=\"w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden\">\n                      <div \n                        className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500 ease-out\"\n                        style={{ width: `${backupProgress}%` }}\n                      ></div>\n                    </div>\n                    \n                    {/* Progress Percentage */}\n                    <div className=\"flex justify-between items-center text-sm\">\n                      <span className=\"text-gray-500\">Progress</span>\n                      <span className=\"font-semibold text-blue-600\">{Math.round(backupProgress)}%</span>\n                    </div>\n                    \n                    {/* Progress Steps */}\n                     <div className=\"mt-6 text-left\">\n                       <div className={`flex items-center mb-2 ${backupProgress > 10 ? 'text-green-600' : 'text-gray-400'}`}>\n                         <CheckCircle className=\"w-4 h-4 mr-2\" />\n                         <span className=\"text-sm\">Connecting to database...</span>\n                       </div>\n                       <div className={`flex items-center mb-2 ${backupProgress > 25 ? 'text-green-600' : 'text-gray-400'}`}>\n                         <CheckCircle className=\"w-4 h-4 mr-2\" />\n                         <span className=\"text-sm\">Exporting database collections...</span>\n                       </div>\n                       <div className={`flex items-center mb-2 ${backupProgress > 45 ? 'text-green-600' : 'text-gray-400'}`}>\n                         <CheckCircle className=\"w-4 h-4 mr-2\" />\n                         <span className=\"text-sm\">Backing up server files...</span>\n                       </div>\n                       <div className={`flex items-center mb-2 ${backupProgress > 65 ? 'text-green-600' : 'text-gray-400'}`}>\n                         <CheckCircle className=\"w-4 h-4 mr-2\" />\n                         <span className=\"text-sm\">Backing up client files...</span>\n                       </div>\n                       <div className={`flex items-center mb-2 ${backupProgress > 85 ? 'text-green-600' : 'text-gray-400'}`}>\n                         <CheckCircle className=\"w-4 h-4 mr-2\" />\n                         <span className=\"text-sm\">Backing up configuration...</span>\n                       </div>\n                       <div className={`flex items-center ${backupProgress >= 100 ? 'text-green-600' : 'text-gray-400'}`}>\n                         <CheckCircle className=\"w-4 h-4 mr-2\" />\n                         <span className=\"text-sm\">Compressing and finalizing...</span>\n                       </div>\n                     </div>\n                  </>\n                ) : (\n                  <>\n                    {/* Success Animation */}\n                    <div className=\"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg\">\n                      <CheckCircle className=\"w-10 h-10 text-white\" />\n                    </div>\n                    \n                    <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">Full Website Backup Complete! </h3>\n                     <p className=\"text-gray-600 mb-6\">Your complete website backup has been created successfully.</p>\n                    \n                    {/* Backup Details */}\n                    {currentBackup && (\n                      <div className=\"bg-gray-50 rounded-xl p-4 mb-6 text-left\">\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <span className=\"text-sm font-medium text-gray-700\">Backup ID:</span>\n                          <span className=\"text-sm text-gray-900 font-mono\">{currentBackup.name}</span>\n                        </div>\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <span className=\"text-sm font-medium text-gray-700\">Size:</span>\n                          <span className=\"text-sm text-gray-900\">{currentBackup.size}</span>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm font-medium text-gray-700\">Created:</span>\n                          <span className=\"text-sm text-gray-900\">{currentBackup.created}</span>\n                        </div>\n                      </div>\n                    )}\n                    \n                    {/* Action Buttons */}\n                    <div className=\"flex space-x-3\">\n                      <button\n                        onClick={handleDownloadBackup}\n                        className=\"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center space-x-2\"\n                      >\n                        <Download className=\"w-4 h-4\" />\n                        <span>Download</span>\n                      </button>\n                      <button\n                        onClick={handleCloseBackupModal}\n                        className=\"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-200 transition-all duration-200\"\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Backup List Management Modal */}\n        {showBackupListModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[80vh] overflow-hidden\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <div>\n                  <h3 className=\"text-2xl font-bold text-gray-900\">System Backups</h3>\n                  <p className=\"text-gray-600\">Manage your website backups</p>\n                </div>\n                <button\n                  onClick={() => setShowBackupListModal(false)}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-6 h-6 text-gray-500\" />\n                </button>\n              </div>\n\n              {backups.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                    <HardDrive className=\"w-10 h-10 text-gray-400\" />\n                  </div>\n                  <h4 className=\"text-lg font-semibold text-gray-900 mb-2\">No Backups Found</h4>\n                  <p className=\"text-gray-600 mb-6\">Create your first backup to get started</p>\n                  <button\n                    onClick={() => {\n                      setShowBackupListModal(false);\n                      handleCreateBackup();\n                    }}\n                    className=\"bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700 transition-colors\"\n                  >\n                    Create First Backup\n                  </button>\n                </div>\n              ) : (\n                <div className=\"overflow-y-auto max-h-96\">\n                   <div className=\"space-y-3\">\n                     {backups.map((backup, index) => (\n                       <div key={index} className=\"bg-gray-50 rounded-xl p-4 flex items-center justify-between hover:bg-gray-100 transition-colors\">\n                         <div className=\"flex items-center space-x-4\">\n                           <div className=\"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center\">\n                             <HardDrive className=\"w-6 h-6 text-blue-600\" />\n                           </div>\n                           <div>\n                             <h4 className=\"font-semibold text-gray-900\">{backup.name || backup}</h4>\n                             <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                               <span>Created: {formatBackupDate(backup)}</span>\n                               {backup.size && <span>Size: {backup.size}</span>}\n                             </div>\n                           </div>\n                         </div>\n                         \n                         <div className=\"flex items-center space-x-2\">\n                           <button\n                             onClick={() => handleDownloadBackupFromList(backup.name || backup)}\n                             className=\"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors\"\n                             title=\"Download Backup\"\n                           >\n                             <Download className=\"w-5 h-5\" />\n                           </button>\n                           <button\n                             onClick={() => {\n                               const backupName = backup.name || backup;\n                               if (window.confirm(`Are you sure you want to delete backup \"${backupName}\"? This action cannot be undone.`)) {\n                                 handleDeleteBackup(backupName);\n                               }\n                             }}\n                             className=\"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors\"\n                             title=\"Delete Backup\"\n                           >\n                             <X className=\"w-5 h-5\" />\n                           </button>\n                         </div>\n                       </div>\n                     ))}\n                   </div>\n                 </div>\n              )}\n\n              <div className=\"mt-6 pt-6 border-t border-gray-200 flex justify-between items-center\">\n                <div className=\"text-sm text-gray-600\">\n                  {backups.length > 0 && `${backups.length} backup${backups.length > 1 ? 's' : ''} available`}\n                </div>\n                <div className=\"flex space-x-3\">\n                  <button\n                    onClick={() => setShowBackupListModal(false)}\n                    className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => {\n                      setShowBackupListModal(false);\n                      handleCreateBackup();\n                    }}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n                  >\n                    <HardDrive className=\"w-4 h-4\" />\n                    <span>Create New Backup</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Social Media Section */}\n        {activeSection === 'social' && (\n          <div className=\"p-3 lg:p-4 min-h-screen\" style={{ marginTop: 'calc(var(--dashboard-header-bottom, 64px) + 12px)' }}>\n            <div className=\"max-w-6xl mx-auto space-y-6\">\n              <SocialMediaCalendar />\n            </div>\n          </div>\n        )}\n\n        {/* Settings Section */}\n        {activeSection === 'settings' && (\n          <div className=\"p-3 lg:p-4 min-h-screen\">\n            <div className=\"max-w-4xl mx-auto space-y-6\">\n              <div className=\"bg-white rounded-lg lg:rounded-xl border border-gray-200 p-4 lg:p-6\">\n                <h2 className=\"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6\">Account Settings</h2>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between py-3 border-b border-gray-100\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Profile Information</h3>\n                      <p className=\"text-sm text-gray-600\">Update your account details</p>\n                    </div>\n                    <button className=\"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium\">\n                      Edit\n                    </button>\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between py-3 border-b border-gray-100\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Password</h3>\n                      <p className=\"text-sm text-gray-600\">Change your password</p>\n                    </div>\n                    <button className=\"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium\">\n                      Change\n                    </button>\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between py-3\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Notifications</h3>\n                      <p className=\"text-sm text-gray-600\">Manage your notification preferences</p>\n                    </div>\n                    <button className=\"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium\">\n                      Configure\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-lg lg:rounded-xl border border-gray-200 p-4 lg:p-6\">\n                <h2 className=\"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6\">Integrations</h2>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between py-3\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Google Drive</h3>\n                      <p className=\"text-sm text-gray-600\">Connect to upload and access your files</p>\n                    </div>\n                    <button\n                      onClick={handleConnectGoogleDrive}\n                      disabled={connectingDrive}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {connectingDrive ? 'Connecting...' : 'Connect'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n\n      {/* Video Editing Wizard */}\n      <VideoEditingWizard\n        isOpen={showWizard}\n        videoFiles={pendingVideoFiles}\n        onClose={() => {\n          setShowWizard(false);\n          // Keep pending files intact; bubbles remain visible until upload success removes them\n        }}\n        onProcessVideo={handleVideoProcessing}\n      />\n\n      {/* Processing Status Modal */}\n      <ProcessingStatusModal\n        isOpen={processingModalOpen}\n        videoTitle={processingVideo?.title}\n        status={processingStatus?.status}\n        progress={processingStatus?.progress}\n        errorMessage={processingStatus?.errorMessage}\n        onClose={() => setProcessingModalOpen(false)}\n      />\n\n      {/* Social Media Popup */}\n      {socialMediaPopupOpen && (\n        <SocialMediaPopup\n          isOpen={socialMediaPopupOpen}\n          onClose={() => setSocialMediaPopupOpen(false)}\n          socialMediaData={socialMediaData}\n          onSave={handleSaveSocialMedia}\n        />\n      )}\n\n      {/* Video Preview Modal */}\n      {showPreviewModal && selectedVideo && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4\"\n          onClick={closePreviewModal}\n        >\n          <div \n            className=\"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex justify-between items-center p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-semibold text-gray-900 flex-1 mr-4 break-words\">\n                {selectedVideo.title || selectedVideo.filename}\n              </h2>\n              <button\n                onClick={closePreviewModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <X className=\"w-6 h-6 text-gray-500\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"w-full h-96 bg-gray-100 rounded-xl overflow-hidden mb-6 flex items-center justify-center\">\n                {selectedVideo.status === 'ready' || selectedVideo.status === 'completed' ? (\n                  <>\n                    {videoLoading ? (\n                      <div className=\"flex flex-col items-center justify-center text-gray-500\">\n                        <Loader className=\"w-12 h-12 animate-spin mb-4\" />\n                        <p className=\"text-lg font-medium\">Loading video...</p>\n                      </div>\n                    ) : videoBlobUrl ? (\n                      <video \n                        controls \n                        src={videoBlobUrl}\n                        className=\"w-full h-full object-cover\"\n                        onError={(e) => {\n                          console.error('Video playback error:', e);\n                        }}\n                      />\n                    ) : (\n                      <div className=\"flex flex-col items-center justify-center text-gray-500\">\n                        <AlertCircle className=\"w-12 h-12 mb-4\" />\n                        <p className=\"text-lg font-medium\">Failed to load video</p>\n                      </div>\n                    )}\n                  </>\n                ) : (\n                  <div className=\"flex flex-col items-center justify-center text-gray-500\">\n                    <FileVideo className=\"w-12 h-12 mb-4\" />\n                    <p className=\"text-lg font-medium\">\n                      {selectedVideo.status === 'processing' ? 'Video is being processed...' : \n                       selectedVideo.status === 'failed' ? 'Video processing failed' :\n                       'Video preview not available'}\n                    </p>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"space-y-4\">\n                <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                  <span className=\"text-gray-600 font-medium\">Status:</span>\n                  <div className=\"flex items-center space-x-2\">\n                    {getStatusIcon(selectedVideo.status)}\n                    <span className=\"font-semibold text-gray-900 capitalize\">\n                      {selectedVideo.status}\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                  <span className=\"text-gray-600 font-medium\">Uploaded:</span>\n                  <span className=\"font-semibold text-gray-900\">\n                    {new Date(selectedVideo.createdAt).toLocaleDateString()}\n                  </span>\n                </div>\n                \n                {selectedVideo.fileSize && (\n                  <div className=\"flex justify-between items-center py-3 border-b border-gray-100\">\n                    <span className=\"text-gray-600 font-medium\">File Size:</span>\n                    <span className=\"font-semibold text-gray-900\">\n                      {formatFileSize(selectedVideo.fileSize)}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-3 p-6 border-t border-gray-200\">\n              {selectedVideo.status === 'ready' && (\n                <button \n                  onClick={() => downloadVideo(selectedVideo)}\n                  className=\"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  <span>Download Video</span>\n                </button>\n              )}\n              <button \n                onClick={closePreviewModal}\n                className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Social Media Scheduler Modal */}\n      {showSocialScheduler && schedulerVideo && (\n        <SocialMediaScheduler\n          video={schedulerVideo}\n          onClose={() => {\n            setShowSocialScheduler(false);\n            setSchedulerVideo(null);\n          }}\n          onSchedule={(scheduleData) => {\n            console.log('Post scheduled:', scheduleData);\n            // Refresh calendar or show success message\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name AlertCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/alert-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AlertCircle = createLucideIcon('AlertCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n]);\n\nexport default AlertCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wand2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNjQgMy42NC0xLjI4LTEuMjhhMS4yMSAxLjIxIDAgMCAwLTEuNzIgMEwyLjM2IDE4LjY0YTEuMjEgMS4yMSAwIDAgMCAwIDEuNzJsMS4yOCAxLjI4YTEuMiAxLjIgMCAwIDAgMS43MiAwTDIxLjY0IDUuMzZhMS4yIDEuMiAwIDAgMCAwLTEuNzJaIiAvPgogIDxwYXRoIGQ9Im0xNCA3IDMgMyIgLz4KICA8cGF0aCBkPSJNNSA2djQiIC8+CiAgPHBhdGggZD0iTTE5IDE0djQiIC8+CiAgPHBhdGggZD0iTTEwIDJ2MiIgLz4KICA8cGF0aCBkPSJNNyA4SDMiIC8+CiAgPHBhdGggZD0iTTIxIDE2aC00IiAvPgogIDxwYXRoIGQ9Ik0xMSAzSDkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/wand-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wand2 = createLucideIcon('Wand2', [\n  [\n    'path',\n    {\n      d: 'm21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z',\n      key: '1bcowg',\n    },\n  ],\n  ['path', { d: 'm14 7 3 3', key: '1r5n42' }],\n  ['path', { d: 'M5 6v4', key: 'ilb8ba' }],\n  ['path', { d: 'M19 14v4', key: 'blhpug' }],\n  ['path', { d: 'M10 2v2', key: '7u0qdc' }],\n  ['path', { d: 'M7 8H3', key: 'zfb6yr' }],\n  ['path', { d: 'M21 16h-4', key: '1cnmox' }],\n  ['path', { d: 'M11 3H9', key: '1obp7u' }],\n]);\n\nexport default Wand2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileVideo\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Im0xMCAxMSA1IDMtNSAzdi02WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/file-video\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileVideo = createLucideIcon('FileVideo', [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'm10 11 5 3-5 3v-6Z', key: '7ntvm4' }],\n]);\n\nexport default FileVideo;\n"],"names":["ChevronLeft","createLucideIcon","d","key","ChevronRight","_ref","isOpen","videoFiles","onClose","onProcessVideo","currentStep","setCurrentStep","useState","formData","setFormData","videoName","description","editingStyle","selectedPlatforms","setSelectedPlatforms","isStory","setIsStory","useEffect","handleInputChange","field","value","prev","_objectSpread","getPlatformCatalog","id","name","recommendedDurations","note","_jsx","className","style","zIndex","onClick","e","target","currentTarget","children","_jsxs","backdropFilter","background","boxShadow","stopPropagation","Wand2","X","width","concat","renderStep","type","placeholder","onChange","rows","map","p","togglePlatform","includes","filter","length","pid","find","pl","join","checked","desc","prevStep","disabled","handleFinish","platformCatalog","reduce","acc","finalData","platforms","storyMode","estimatedExtraCredits","orderedFiles","fileCount","nextStep","Facebook","initFacebookSDK","async","appId","process","REACT_APP_FB_APP_ID","REACT_APP_FACEBOOK_APP_ID","version","REACT_APP_FB_API_VERSION","Error","loadScript","Promise","resolve","reject","window","document","getElementById","js","createElement","src","onload","onerror","fjs","getElementsByTagName","parentNode","insertBefore","fbAsyncInit","FB","init","cookie","xfbml","user","handleOAuthLogin","refreshUser","useAuth","connecting","setConnecting","facebookConfigured","setFacebookConfigured","_data$providers","response","fetch","data","json","providers","facebook","error","console","log","checkOAuthStatus","isFacebookLinked","Array","isArray","linkedSocialAccounts","auth","scope","arguments","undefined","login","authResponse","loginWithFacebook","accessToken","_","Overlay","styled","div","_templateObject","_taggedTemplateLiteral","PopupContainer","_templateObject2","PopupHeader","_templateObject3","Title","h2","_templateObject4","CloseButton","button","_templateObject5","Form","form","_templateObject6","FormGroup","_templateObject7","Label","label","_templateObject8","Input","input","_templateObject9","ButtonGroup","_templateObject0","CancelButton","_templateObject1","SaveButton","_templateObject10","socialMedia","onSave","instagram","tiktok","youtube","twitter","handleChange","onSubmit","preventDefault","htmlFor","Instagram","height","x","y","rx","ry","x1","x2","y1","y2","Twitter","Youtube","AccountSettingsModal","_ref2","onAccountsUpdated","connectedAccounts","setConnectedAccounts","icon","color","fetchConnectedAccounts","headers","localStorage","getItem","ok","accounts","platform","Icon","connectedAccount","username","accountId","method","toast","success","handleDisconnectAccount","platformId","authUrl","open","addEventListener","event","handleConnectAccount","video","onSchedule","scheduledDate","setScheduledDate","scheduledTime","setScheduledTime","caption","setCaption","showAccountSettings","setShowAccountSettings","maxLength","getMaxCaptionLength","Math","min","_platforms$find","thumbnail","alt","Video","title","Settings","isConnected","some","account","isSelected","handlePlatformToggle","_Fragment","CheckCircle","AlertCircle","Date","toISOString","split","scheduleData","videoId","scheduledAt","url","body","JSON","stringify","Clock","cx","cy","r","points","Calendar","SocialMediaCalendar","currentDate","setCurrentDate","scheduledPosts","setScheduledPosts","selectedDate","setSelectedDate","loading","setLoading","fetchScheduledPosts","useCallback","startDate","getFullYear","getMonth","endDate","posts","getPostsForDate","date","dateStr","toDateString","post","navigateMonth","direction","newDate","setMonth","getStatusIcon","status","days","year","month","firstDay","daysInMonth","getDate","startingDayOfWeek","getDay","i","push","day","getDaysInMonth","index","isToday","slice","postIndex","platformData","toLocaleDateString","toLocaleTimeString","hour","minute","confirm","postId","handleDeletePost","Trash2","ProcessingStatusModal","videoTitle","progress","errorMessage","stepLabel","stepsFromProgress","Loader","DashboardStructure","uploadContent","processContent","uploadCompleted","processCompleted","scheduleCompleted","stepIndex","onNext","onPrev","onFinish","onUploadClick","tabIndex","transform","textShadow","role","rand","max","random","UploadBubbles","files","onDelete","thumbs","setThumbs","mountEl","setMountEl","hovering","setHovering","bubbles","useMemo","vf","file","URL","createObjectURL","seedStr","size","a","s","h","imul","charCodeAt","strSeed","t","round","startLeft","startTop","dx","dy","durX","toFixed","durY","delayX","delayY","el","position","inset","pointerEvents","appendChild","resources","forEach","b","_b$file","_b$file2","_b$file2$name","toLowerCase","startsWith","test","img","Image","crossOrigin","kind","_img$decode","decode","call","canvas","maxW","scale","naturalWidth","w","naturalHeight","getContext","drawImage","dataUrl","toDataURL","revokeObjectURL","vid","preload","muted","playsInline","onLoadedMeta","currentTime","onSeeked","videoWidth","hRaw","videoHeight","removeEventListener","pause","once","_r$el$pause","_r$el","_r$el$removeEventList","_r$el2","_r$el$removeEventList2","_r$el3","_r$el$removeAttribute","_r$el4","_r$el$load","_r$el5","removeAttribute","load","createPortal","willChange","left","top","animationDuration","animationDelay","onMouseEnter","onMouseLeave","Dashboard","stats","fetchStats","formatFileSize","useStats","location","useLocation","videosSectionRef","useRef","flowStep","setFlowStep","flowActive","setFlowActive","setUploadNotif","uploadNotifRef","updateUploadToast","delta","totalAdd","finalMessage","agg","current","toastId","total","duration","Infinity","dispatchEvent","CustomEvent","detail","_unused","done","allDone","text","scrollToVideosSection","attemptScroll","offset","getOffset","header","offsetHeight","getBoundingClientRect","scrollY","scrollTo","behavior","focus","preventScroll","retries","ms","setTimeout","plan","handleKeyPress","ctrlKey","navigate","useNavigate","videos","setVideos","uploading","setUploading","uploadProgress","setUploadProgress","pendingVideoFiles","setPendingVideoFiles","showWizard","setShowWizard","uploadStepComplete","setUploadStepComplete","lastUploadedItem","setLastUploadedItem","activeSection","setActiveSection","showUploader","setShowUploader","handleVideoProcessingRef","processingModalOpen","setProcessingModalOpen","processingVideo","processingStatus","socialMediaPopupOpen","setSocialMediaPopupOpen","socialMediaData","setSocialMediaData","showSocialScheduler","setShowSocialScheduler","schedulerVideo","setSchedulerVideo","showPreviewModal","setShowPreviewModal","selectedVideo","setSelectedVideo","videoBlobUrl","setVideoBlobUrl","videoLoading","setVideoLoading","connectingDrive","setConnectingDrive","backupLoading","setBackupLoading","backups","setBackups","showBackupModal","setShowBackupModal","backupProgress","setBackupProgress","currentBackup","setCurrentBackup","backupComplete","setBackupComplete","showBackupListModal","setShowBackupListModal","trimmed","replace","baseNoApi","origin","devOverride","API_BASE","api","loadVideoBlob","token","axios","get","_id","Authorization","responseType","blob","Blob","closePreviewModal","onDrop","isVideo","f","isImage","mediaFiles","acceptedFiles","rejected","pendingId","now","prevFiles","proc","catch","getRootProps","getInputProps","isDragActive","useDropzone","accept","multiple","pathname","hash","finishFlow","documentElement","overflow","playPopSound","AudioCtx","AudioContext","webkitAudioContext","ctx","state","resume","osc","createOscillator","gain","createGain","frequency","setValueAtTime","exponentialRampToValueAtTime","connect","destination","start","stop","onended","disconnect","close","nextFlowStep","listRes","list","v","filename","ready","sort","createdAt","editingOptions","_error$response2","_error$response2$data","msg","message","prevFlowStep","lastStepRef","fetchVideos","videosData","_error$response3","removeItem","handleVideoProcessing","filesArray","videoData","FormData","append","totalNewSize","sum","limit","storageLimit","used","storageUsed","primaryFile","String","editingData","videoType","targetAudience","specialRequests","Boolean","postWithRetry","config","delayMs","err","isNetworkChanged","code","toString","maxBodyLength","maxContentLength","onUploadProgress","progressEvent","percentCompleted","loaded","_error$response4","_error$response4$data","handleCreateBackup","progressInterval","setInterval","clearInterval","backup","path","created","toLocaleString","fetchBackups","_error$response5","_error$response6","_error$response7","_error$response7$data","handleDownloadBackupFromList","backupName","downloadUrl","then","statusText","link","href","download","click","removeChild","formatBackupDate","timestamp","ProfilePictureUploader","dismissed","show","OnboardingModal","setItem","Upload","videoCount","HardDrive","Crown","maxVideos","BarChart3","handleDownloadBackup","Download","handleCloseBackupModal","delete","handleDeleteBackup","marginTop","_error$response","_error$response$data","VideoEditingWizard","SocialMediaPopup","put","socialData","controls","onError","FileVideo","fileSize","downloadVideo","SocialMediaScheduler"],"sourceRoot":""}