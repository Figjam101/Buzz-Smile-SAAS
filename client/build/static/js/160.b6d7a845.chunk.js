/*! For license information please see 160.b6d7a845.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbuzz_smile_official_website_client=self.webpackChunkbuzz_smile_official_website_client||[]).push([[160],{2656:()=>{},3160:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ve});var a=s(2555),r=s(5043),n=s(3216),o=s(5016),l=s(4919),i=s(8789),c=s(9722),d=s(3768),m=s(7421),u=s(614),x=s(1639);const h=(0,x.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,x.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var g=s(579);const b=e=>{let{isOpen:t,videoFiles:s,onClose:n,onProcessVideo:o}=e;const[l,i]=(0,r.useState)(1),[c,d]=(0,r.useState)({videoName:"",description:"",editingStyle:""}),[x,b]=(0,r.useState)([]),[f,y]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{},[s]),!t)return null;const v=(e,t)=>{d(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t}))},j=()=>[{id:"tiktok",name:"TikTok",recommendedDurations:["15\u201330s","30\u201360s"],note:"9:16 vertical"},{id:"instagram-reels",name:"Instagram Reels",recommendedDurations:["15\u201330s","30\u201360s"],note:"9:16 vertical"},{id:"instagram-story",name:"Instagram Story",recommendedDurations:["15s per slide"],note:"9:16 vertical"},{id:"youtube-shorts",name:"YouTube Shorts",recommendedDurations:["15\u201360s"],note:"9:16 vertical"},{id:"youtube",name:"YouTube",recommendedDurations:["1\u20132m","2\u20135m"],note:"16:9 horizontal"},{id:"facebook",name:"Facebook",recommendedDurations:["30\u201360s","1\u20132m"],note:"16:9 or 9:16"},{id:"twitter",name:"Twitter/X",recommendedDurations:["15\u201360s"],note:"16:9 or 9:16"}];return(0,g.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{zIndex:999999},onClick:e=>{e.target===e.currentTarget&&n()},children:(0,g.jsxs)("div",{className:"bg-white/90 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(20px)",background:"rgba(255, 255, 255, 0.9)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.2)"},onClick:e=>e.stopPropagation(),children:[(0,g.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/20 bg-white/10 backdrop-blur-sm",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)(m.A,{className:"w-6 h-6 text-blue-600"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Video Editor"}),(0,g.jsxs)("p",{className:"text-sm text-gray-600",children:["Step ",l," of ",3]})]})]}),(0,g.jsx)("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors backdrop-blur-sm",children:(0,g.jsx)(u.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,g.jsx)("div",{className:"px-6 py-4 bg-white/5 backdrop-blur-sm",children:(0,g.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,g.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300 shadow-sm",style:{width:"".concat(l/3*100,"%")}})})}),(0,g.jsx)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:(()=>{switch(l){case 1:return(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 1: Video Information"}),(0,g.jsx)("p",{className:"text-gray-600",children:"Give your video a name and brief description"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Name"}),(0,g.jsx)("input",{type:"text",placeholder:"E.g. Promo for Popeys bar in London",value:c.videoName,onChange:e=>v("videoName",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,g.jsx)("textarea",{placeholder:"A short description or any key notes...",value:c.description,onChange:e=>v("description",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]});case 2:return(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 2: Platforms"}),(0,g.jsx)("p",{className:"text-gray-600",children:"What platform(s) do you need this video for? (Select multiple)"}),(0,g.jsx)("div",{className:"grid grid-cols-2 gap-3",children:j().map(e=>(0,g.jsxs)("button",{onClick:()=>{return t=e.id,void b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"p-3 rounded-lg border-2 text-left transition-all ".concat(x.includes(e.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[(0,g.jsx)("div",{className:"font-medium",children:e.name}),(0,g.jsx)("div",{className:"text-xs text-gray-600",children:e.note})]},e.id))}),x.length>0&&(0,g.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,g.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Recommended Durations"}),(0,g.jsx)("ul",{className:"text-sm text-blue-700 space-y-1",children:x.map(e=>{const t=j().find(t=>t.id===e);return(0,g.jsxs)("li",{children:[(0,g.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.name,":"]})," ",((null===t||void 0===t?void 0:t.recommendedDurations)||[]).join(", ")]},e)})}),(0,g.jsx)("p",{className:"text-xs text-blue-700 mt-2",children:"We\u2019ll tailor cuts and pacing to fit each platform\u2019s best practices."})]})]});case 3:return(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Step 3: Story Mode"}),(0,g.jsx)("p",{className:"text-gray-600",children:"Make this video a story sequence. This uses an extra credit."}),(0,g.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"font-medium text-gray-800",children:"Create Story Version"}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Generates story-formatted output (e.g., multiple slides at 15s for IG Story)."}),(0,g.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"Note: Uses 1 extra credit from your balance."})]}),(0,g.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,g.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:f,onChange:e=>y(e.target.checked)}),(0,g.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 transition-colors",children:(0,g.jsx)("div",{className:"h-6 w-6 bg-white rounded-full shadow transform transition-transform ".concat(f?"translate-x-5":"")})})]})]}),(0,g.jsx)("div",{className:"space-y-3",children:[{name:"Dynamic",desc:"Fast cuts, energetic pacing"},{name:"Clean",desc:"Minimal, professional transitions"},{name:"Cinematic",desc:"Dramatic look, film-style"}].map(e=>(0,g.jsxs)("button",{onClick:()=>v("editingStyle",e.name),className:"w-full p-4 rounded-lg border-2 text-left transition-all ".concat(c.editingStyle===e.name?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,g.jsx)("div",{className:"font-medium",children:e.name}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:e.desc})]},e.name))})]});default:return null}})()}),(0,g.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-white/20 bg-white/5 backdrop-blur-sm",children:[(0,g.jsxs)("button",{onClick:()=>{l>1&&i(l-1)},disabled:1===l,className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors backdrop-blur-sm ".concat(1===l?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-white/20"),children:[(0,g.jsx)(h,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Previous"})]}),3===l?(0,g.jsxs)("button",{onClick:()=>{const e=j(),t=x.reduce((t,s)=>{const a=e.find(e=>e.id===s);return a&&(t[s]=a.recommendedDurations),t},{}),r=(0,a.A)((0,a.A)({},c),{},{platforms:x,storyMode:f,estimatedExtraCredits:f?1:0,recommendedDurations:t,orderedFiles:s||[],fileCount:(s||[]).length});o(r),n()},className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg backdrop-blur-sm",children:[(0,g.jsx)(m.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Start Editing"})]}):(0,g.jsxs)("button",{onClick:()=>{l<3&&i(l+1)},className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg backdrop-blur-sm",children:[(0,g.jsx)("span",{children:"Next"}),(0,g.jsx)(p,{className:"w-4 h-4"})]})]})]})})};var f=s(138);const y=(0,x.A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),v=async()=>{const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5002",REACT_APP_MOCK_API:"false"}.REACT_APP_FB_APP_ID||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5002",REACT_APP_MOCK_API:"false"}.REACT_APP_FACEBOOK_APP_ID||"",t={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5002",REACT_APP_MOCK_API:"false"}.REACT_APP_FB_API_VERSION||"v19.0";if(!e)throw new Error("Missing REACT_APP_FB_APP_ID");var s;return await(s="facebook-jssdk",new Promise((e,t)=>{if("undefined"===typeof window)return t(new Error("No window"));if(document.getElementById(s))return e();const a=document.createElement("script");a.id=s,a.async=!0,a.src="https://connect.facebook.net/en_US/sdk.js",a.onload=()=>e(),a.onerror=()=>t(new Error("Failed to load Facebook SDK"));const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r)})),new Promise(s=>{window.fbAsyncInit=function(){window.FB.init({appId:e,cookie:!0,xfbml:!1,version:t}),s()},window.FB&&"function"===typeof window.FB.init&&(window.FB.init({appId:e,cookie:!0,xfbml:!1,version:t}),s())})},j=e=>{let{isOpen:t,onClose:s}=e;const{user:a,handleOAuthLogin:n,refreshUser:l}=(0,o.A)(),[i,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{(async()=>{try{var e;const t=await fetch("/auth/status"),s=await t.json();m((null===(e=s.providers)||void 0===e?void 0:e.facebook)||!1)}catch(t){console.log("Could not check OAuth status"),m(!1)}})()},[]),!t)return null;const x=Array.isArray(null===a||void 0===a?void 0:a.linkedSocialAccounts)&&a.linkedSocialAccounts.includes("facebook");return(0,g.jsx)("div",{className:"fixed inset-0 z-[70] bg-black/40 flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 w-[92%] max-w-lg",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between px-5 pt-5",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Let\u2019s set up your account"}),(0,g.jsx)("button",{"aria-label":"Close",onClick:s,className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:(0,g.jsx)(u.A,{className:"w-5 h-5"})})]}),(0,g.jsxs)("div",{className:"px-5 pb-5",children:[(0,g.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Follow these steps to finish onboarding and enable social posting."}),d&&(0,g.jsxs)("div",{className:"rounded-xl border border-gray-200 p-4 mb-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600",children:(0,g.jsx)(y,{className:"w-5 h-5"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-medium text-gray-900",children:"Connect Facebook Business"}),(0,g.jsx)("p",{className:"text-xs text-gray-500",children:"Link your Facebook Business account to post videos directly from the calendar."})]})]}),(0,g.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs ".concat(x?"bg-green-50 text-green-700 border border-green-200":"bg-gray-100 text-gray-700"),children:x?"Connected":"Not connected"})]}),(0,g.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[x?(0,g.jsx)("button",{className:"px-4 py-2 rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200",onClick:s,children:"Done"}):(0,g.jsx)("button",{className:"px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 ".concat(i?"opacity-70 cursor-not-allowed":""),onClick:async()=>{if(!i){c(!0);try{await v();const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"public_profile,email,pages_show_list,pages_manage_posts,pages_read_engagement,business_management";if("undefined"===typeof window||!window.FB)throw new Error("Facebook SDK not initialized");return new Promise((t,s)=>{window.FB.login(e=>{e&&e.authResponse?t(e.authResponse):s(new Error("Facebook login failed"))},{scope:e})})}();if(t&&t.accessToken){try{await l()}catch(e){}return void s()}n("facebook")}catch(t){n("facebook")}finally{c(!1)}}},children:i?"Connecting\u2026":"Connect Facebook"}),(0,g.jsx)("button",{className:"px-4 py-2 rounded-full text-gray-700 hover:bg-gray-100",onClick:s,children:"Skip for now"})]}),(0,g.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"You can change this later under Settings \u2192 Social Accounts."})]}),!d&&(0,g.jsx)("div",{className:"rounded-xl border border-gray-200 p-4 mb-3 bg-gray-50",children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"p-2 rounded-full bg-gray-200 text-gray-500",children:(0,g.jsx)(y,{className:"w-5 h-5"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-medium text-gray-600",children:"Facebook Business Integration"}),(0,g.jsx)("p",{className:"text-xs text-gray-500",children:"Facebook integration is not configured. Contact your administrator to enable this feature."})]})]})})]})]})})};var w,N,k,A,C,S,E,D,F,T,_,P,z=s(7528),I=s(5464);const M=I.Ay.div(w||(w=(0,z.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n"]))),R=I.Ay.div(N||(N=(0,z.A)(["\n  background: white;\n  border-radius: 12px;\n  padding: 2rem;\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n"]))),L=I.Ay.div(k||(k=(0,z.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n"]))),B=I.Ay.h2(A||(A=(0,z.A)(["\n  color: #1F2937;\n  font-size: 1.5rem;\n  margin: 0;\n"]))),U=I.Ay.button(C||(C=(0,z.A)(["\n  background: none;\n  border: none;\n  font-size: 2rem;\n  color: #6B7280;\n  cursor: pointer;\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #F3F4F6;\n    color: #374151;\n  }\n"]))),O=I.Ay.form(S||(S=(0,z.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n"]))),V=I.Ay.div(E||(E=(0,z.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),W=I.Ay.label(D||(D=(0,z.A)(["\n  color: #374151;\n  font-weight: 500;\n  font-size: 0.9rem;\n"]))),H=I.Ay.input(F||(F=(0,z.A)(["\n  padding: 0.75rem;\n  border: 2px solid #E5E7EB;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #4F46E5;\n  }\n\n  &::placeholder {\n    color: #9CA3AF;\n  }\n"]))),K=I.Ay.div(T||(T=(0,z.A)(["\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: 1rem;\n"]))),Y=I.Ay.button(_||(_=(0,z.A)(["\n  background: #F3F4F6;\n  color: #374151;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #E5E7EB;\n  }\n"]))),q=I.Ay.button(P||(P=(0,z.A)(["\n  background: #4F46E5;\n  color: white;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #4338CA;\n    transform: translateY(-1px);\n  }\n"]))),G=e=>{let{isOpen:t,onClose:s,socialMedia:n,onSave:o}=e;const[l,i]=(0,r.useState)({instagram:"",tiktok:"",youtube:"",twitter:"",facebook:""});(0,r.useEffect)(()=>{n&&i({instagram:n.instagram||"",tiktok:n.tiktok||"",youtube:n.youtube||"",twitter:n.twitter||"",facebook:n.facebook||""})},[n]);const c=e=>{i((0,a.A)((0,a.A)({},l),{},{[e.target.name]:e.target.value}))};return t?(0,g.jsx)(M,{onClick:s,children:(0,g.jsxs)(R,{onClick:e=>e.stopPropagation(),children:[(0,g.jsxs)(L,{children:[(0,g.jsx)(B,{children:"Update Social Media Links"}),(0,g.jsx)(U,{onClick:s,children:"\xd7"})]}),(0,g.jsxs)(O,{onSubmit:e=>{e.preventDefault(),o(l),s()},children:[(0,g.jsxs)(V,{children:[(0,g.jsx)(W,{htmlFor:"instagram",children:"Instagram"}),(0,g.jsx)(H,{type:"url",id:"instagram",name:"instagram",value:l.instagram,onChange:c,placeholder:"https://instagram.com/username"})]}),(0,g.jsxs)(V,{children:[(0,g.jsx)(W,{htmlFor:"tiktok",children:"TikTok"}),(0,g.jsx)(H,{type:"url",id:"tiktok",name:"tiktok",value:l.tiktok,onChange:c,placeholder:"https://tiktok.com/@username"})]}),(0,g.jsxs)(V,{children:[(0,g.jsx)(W,{htmlFor:"youtube",children:"YouTube"}),(0,g.jsx)(H,{type:"url",id:"youtube",name:"youtube",value:l.youtube,onChange:c,placeholder:"https://youtube.com/@username"})]}),(0,g.jsxs)(V,{children:[(0,g.jsx)(W,{htmlFor:"twitter",children:"Twitter/X"}),(0,g.jsx)(H,{type:"url",id:"twitter",name:"twitter",value:l.twitter,onChange:c,placeholder:"https://twitter.com/username"})]}),(0,g.jsxs)(V,{children:[(0,g.jsx)(W,{htmlFor:"facebook",children:"Facebook"}),(0,g.jsx)(H,{type:"url",id:"facebook",name:"facebook",value:l.facebook,onChange:c,placeholder:"https://facebook.com/username"})]}),(0,g.jsxs)(K,{children:[(0,g.jsx)(Y,{type:"button",onClick:s,children:"Cancel"}),(0,g.jsx)(q,{type:"submit",children:"Save Changes"})]})]})]})}):null},X=(0,x.A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),J=(0,x.A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),$=(0,x.A)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);var Z=s(9333),Q=s(7365),ee=s(4319),te=s(5613);const se=e=>{let{onClose:t,onAccountsUpdated:s}=e;const[a,n]=(0,r.useState)([]),o=[{id:"instagram",name:"Instagram",icon:X,color:"bg-pink-500"},{id:"facebook",name:"Facebook",icon:y,color:"bg-blue-600"},{id:"twitter",name:"Twitter/X",icon:J,color:"bg-black"},{id:"youtube",name:"YouTube",icon:$,color:"bg-red-600"}];(0,r.useEffect)(()=>{l()},[]);const l=async()=>{try{const e=await fetch("/api/social/accounts",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();n(t)}}catch(e){console.error("Error fetching connected accounts:",e)}};return(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:(0,g.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full",children:[(0,g.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Social Media Accounts"}),(0,g.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,g.jsx)(u.A,{className:"w-5 h-5"})})]})}),(0,g.jsx)("div",{className:"p-6 space-y-4",children:o.map(e=>{const t=e.icon,r=a.find(t=>t.platform===e.id);return(0,g.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-lg flex items-center justify-center"),children:(0,g.jsx)(t,{className:"w-4 h-4 text-white"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),r?(0,g.jsxs)("p",{className:"text-sm text-green-600",children:["@",r.username]}):(0,g.jsx)("p",{className:"text-sm text-gray-500",children:"Not connected"})]})]}),r?(0,g.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("/api/social/accounts/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok&&(l(),s(),d.Ay.success("Account disconnected successfully!"))}catch(t){console.error("Error disconnecting account:",t),d.Ay.error("Failed to disconnect account")}})(r.id),className:"px-3 py-1 text-sm text-red-600 hover:text-red-700 border border-red-200 rounded-lg hover:bg-red-50 transition-colors",children:"Disconnect"}):(0,g.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch("/api/social/connect/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const{authUrl:a}=await t.json();window.open(a,"_blank","width=600,height=600"),window.addEventListener("message",t=>{"SOCIAL_AUTH_SUCCESS"===t.data.type&&(l(),s(),d.Ay.success("".concat(e," account connected successfully!")))})}}catch(t){console.error("Error connecting account:",t),d.Ay.error("Failed to connect account")}})(e.id),className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors",children:"Connect"})]},e.id)})})]})})},ae=e=>{let{video:t,onClose:s,onSchedule:a}=e;const[n,o]=(0,r.useState)([]),[l,i]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[p,b]=(0,r.useState)([]),[f,v]=(0,r.useState)(!1),j=[{id:"instagram",name:"Instagram",icon:X,color:"bg-pink-500",maxLength:2200},{id:"facebook",name:"Facebook",icon:y,color:"bg-blue-600",maxLength:63206},{id:"twitter",name:"Twitter/X",icon:J,color:"bg-black",maxLength:280},{id:"youtube",name:"YouTube",icon:$,color:"bg-red-600",maxLength:5e3}];(0,r.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=await fetch("/api/social/accounts",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();b(t)}}catch(e){console.error("Error fetching connected accounts:",e)}},N=()=>0===n.length?2200:Math.min(...n.map(e=>{var t;return(null===(t=j.find(t=>t.id===e))||void 0===t?void 0:t.maxLength)||2200}));return(0,g.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[(0,g.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,g.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Schedule Social Media Post"}),(0,g.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,g.jsx)(u.A,{className:"w-5 h-5"})})]})}),(0,g.jsxs)("div",{className:"p-6 space-y-6",children:[(0,g.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:null!==t&&void 0!==t&&t.thumbnail?(0,g.jsx)("img",{src:t.thumbnail,alt:"Video thumbnail",className:"w-full h-full object-cover rounded-lg"}):(0,g.jsx)(Z.A,{className:"w-8 h-8 text-gray-400"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-medium text-gray-900",children:(null===t||void 0===t?void 0:t.title)||"Untitled Video"}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Ready to schedule"})]})]})}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Select Platforms"}),(0,g.jsxs)("button",{onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center space-x-1",children:[(0,g.jsx)(Q.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Manage Accounts"})]})]}),(0,g.jsx)("div",{className:"grid grid-cols-2 gap-3",children:j.map(e=>{const t=e.icon,s=(a=e.id,p.some(e=>e.platform===a));var a;const r=n.includes(e.id);return(0,g.jsx)("button",{onClick:()=>s&&(e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e.id),disabled:!s,className:"p-4 rounded-xl border-2 transition-all ".concat(r?"border-blue-500 bg-blue-50":s?"border-gray-200 hover:border-gray-300":"border-gray-100 bg-gray-50 cursor-not-allowed"),children:(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-lg flex items-center justify-center"),children:(0,g.jsx)(t,{className:"w-4 h-4 text-white"})}),(0,g.jsxs)("div",{className:"text-left",children:[(0,g.jsx)("p",{className:"font-medium ".concat(s?"text-gray-900":"text-gray-400"),children:e.name}),(0,g.jsx)("div",{className:"flex items-center space-x-1",children:s?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ee.A,{className:"w-3 h-3 text-green-500"}),(0,g.jsx)("span",{className:"text-xs text-green-600",children:"Connected"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(te.A,{className:"w-3 h-3 text-gray-400"}),(0,g.jsx)("span",{className:"text-xs text-gray-400",children:"Not connected"})]})})]})]})},e.id)})})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Caption",(0,g.jsxs)("span",{className:"text-gray-500 ml-1",children:["(",x.length,"/",N(),")"]})]}),(0,g.jsx)("textarea",{value:x,onChange:e=>h(e.target.value),maxLength:N(),placeholder:"Write your post caption...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,g.jsx)("input",{type:"date",value:l,onChange:e=>i(e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),(0,g.jsx)("input",{type:"time",value:c,onChange:e=>m(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,g.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,g.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,g.jsx)("button",{onClick:async()=>{if(!l||!c||0===n.length)return void d.Ay.error("Please select date, time, and at least one platform");const e={videoId:t.id,platforms:n,scheduledAt:new Date("".concat(l,"T").concat(c)),caption:x,video:{title:t.title,url:t.url,thumbnail:t.thumbnail}};try{(await fetch("/api/social/schedule",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)})).ok?(d.Ay.success("Post scheduled successfully!"),a&&a(e),s()):d.Ay.error("Failed to schedule post")}catch(r){console.error("Error scheduling post:",r),d.Ay.error("Error scheduling post")}},disabled:!l||!c||0===n.length,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Schedule Post"})]})]})]}),f&&(0,g.jsx)(se,{onClose:()=>v(!1),onAccountsUpdated:w})]})},re=(0,x.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ne=(0,x.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var oe=s(9855);const le=()=>{const[e,t]=(0,r.useState)(new Date),[s,a]=(0,r.useState)([]),[n,o]=(0,r.useState)(null),[l,i]=(0,r.useState)(!0),c={instagram:{icon:X,color:"bg-pink-500",name:"Instagram"},facebook:{icon:y,color:"bg-blue-600",name:"Facebook"},twitter:{icon:J,color:"bg-black",name:"Twitter/X"},youtube:{icon:$,color:"bg-red-600",name:"YouTube"}},m=(0,r.useCallback)(async()=>{try{i(!0);const t=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()+1,0),r=await fetch("/api/social/scheduled?start=".concat(t.toISOString(),"&end=").concat(s.toISOString()),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(r.ok){const e=await r.json();a(e)}}catch(t){console.error("Error fetching scheduled posts:",t),d.Ay.error("Failed to load scheduled posts")}finally{i(!1)}},[e]);(0,r.useEffect)(()=>{m()},[m]);const u=e=>{if(!e)return[];const t=e.toDateString();return s.filter(e=>new Date(e.scheduledAt).toDateString()===t)},x=e=>{t(t=>{const s=new Date(t);return s.setMonth(t.getMonth()+e),s})},b=e=>{switch(e){case"scheduled":return(0,g.jsx)(re,{className:"w-4 h-4 text-blue-500"});case"posted":return(0,g.jsx)(ee.A,{className:"w-4 h-4 text-green-500"});case"failed":return(0,g.jsx)(te.A,{className:"w-4 h-4 text-red-500"});default:return(0,g.jsx)(re,{className:"w-4 h-4 text-gray-400"})}},f=(e=>{const t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),r=new Date(t,s+1,0).getDate(),n=a.getDay(),o=[];for(let l=0;l<n;l++)o.push(null);for(let l=1;l<=r;l++)o.push(new Date(t,s,l));return o})(e);return(0,g.jsxs)("div",{className:"rounded-2xl backdrop-blur-md bg-gradient-to-br from-white/10 via-white/5 to-transparent border border-white/20 ring-2 ring-white/30 shadow-[0_10px_25px_rgba(255,255,255,0.10),0_2px_6px_rgba(255,255,255,0.06)] max-w-4xl mx-auto text-white",children:[(0,g.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)("div",{className:"w-10 h-10 bg-blue-600/20 rounded-xl flex items-center justify-center",children:(0,g.jsx)(ne,{className:"w-5 h-5 text-blue-300"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Social Media Calendar"}),(0,g.jsx)("p",{className:"text-xs text-white/70",children:"Manage your scheduled posts"})]})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)("button",{onClick:()=>x(-1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,g.jsx)(h,{className:"w-5 h-5"})}),(0,g.jsxs)("h3",{className:"text-base font-medium text-white min-w-[120px] text-center",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ",e.getFullYear()]}),(0,g.jsx)("button",{onClick:()=>x(1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,g.jsx)(p,{className:"w-5 h-5"})})]})]})}),(0,g.jsx)("div",{className:"p-4",children:l?(0,g.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,g.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-300"})}):(0,g.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,g.jsx)("div",{className:"p-2 text-center text-xs font-medium text-white/80",children:e},e)),f.map((e,t)=>{const s=e?u(e):[],a=e&&e.toDateString()===(new Date).toDateString(),r=n&&e&&e.toDateString()===n.toDateString();return(0,g.jsx)("div",{className:"min-h-[72px] p-2 border border-white/20 ".concat(e?"cursor-pointer hover:bg-white/15":""," ").concat(a?"bg-blue-600/10 border-blue-300/40":""," ").concat(r?"bg-white/15 border-white/40 shadow-[0_6px_16px_rgba(255,255,255,0.12)]":""),onClick:()=>e&&o(e),children:e&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"flex items-center mb-1",children:(0,g.jsx)("div",{className:"w-7 h-7 rounded-md border -ml-1 flex items-center justify-center text-base font-semibold ".concat(a?"bg-blue-600/20 border-blue-300/50 text-blue-200":"bg-white/10 border-white/30 text-white"),children:e.getDate()})}),(0,g.jsxs)("div",{className:"space-y-1",children:[s.slice(0,3).map((e,t)=>{const s=c[e.platforms[0]],a=null===s||void 0===s?void 0:s.icon;return(0,g.jsxs)("div",{className:"flex items-center space-x-1 text-[10px] bg-white/10 rounded px-1 py-0.5 border border-white/30 text-white/90",children:[a&&(0,g.jsx)("div",{className:"w-3 h-3 ".concat(s.color," rounded-sm flex items-center justify-center"),children:(0,g.jsx)(a,{className:"w-2 h-2 text-white"})}),(0,g.jsxs)("span",{className:"truncate flex-1",children:[e.caption.slice(0,15),"..."]}),b(e.status)]},t)}),s.length>3&&(0,g.jsxs)("div",{className:"text-xs text-white/60 text-center",children:["+",s.length-3," more"]})]})]})},t)})]})}),n&&(0,g.jsxs)("div",{className:"border-t border-white/10 p-4",children:[(0,g.jsxs)("h3",{className:"text-base font-medium text-white mb-3",children:["Posts for ",n.toLocaleDateString()]}),0===u(n).length?(0,g.jsx)("p",{className:"text-white/60 text-center py-8",children:"No posts scheduled for this date"}):(0,g.jsx)("div",{className:"space-y-3",children:u(n).map(e=>(0,g.jsx)("div",{className:"bg-white/7 border border-white/15 rounded-lg p-4 shadow-[0_6px_18px_rgba(255,255,255,0.10)]",children:(0,g.jsxs)("div",{className:"flex items-start justify-between",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,g.jsx)("div",{className:"flex items-center space-x-1",children:e.platforms.map(e=>{const t=c[e],s=null===t||void 0===t?void 0:t.icon;return s?(0,g.jsx)("div",{className:"w-6 h-6 ".concat(t.color," rounded flex items-center justify-center"),children:(0,g.jsx)(s,{className:"w-3 h-3 text-white"})},e):null})}),(0,g.jsx)("span",{className:"text-sm font-medium text-white",children:new Date(e.scheduledAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),b(e.status)]}),(0,g.jsx)("p",{className:"text-sm text-white/80 mb-2",children:e.caption}),e.video&&(0,g.jsx)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:(0,g.jsxs)("span",{children:["Video: ",e.video.title]})})]}),(0,g.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:(0,g.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this scheduled post?"))try{(await fetch("/api/social/scheduled/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok?(d.Ay.success("Scheduled post deleted"),m()):d.Ay.error("Failed to delete post")}catch(t){console.error("Error deleting post:",t),d.Ay.error("Error deleting post")}})(e.id),className:"p-1 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded transition-colors",children:(0,g.jsx)(oe.A,{className:"w-4 h-4"})})})]})},e.id))})]})]})};function ie(e){let{isOpen:t,videoTitle:s,status:a,progress:r,errorMessage:n,onClose:o}=e;if(!t)return null;const l=(e=>e<33?"Preparing":e<66?"Editing":e<100?"Finalizing":"Completed")(r||0);return(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",onClick:o,children:(0,g.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",onClick:e=>e.stopPropagation(),children:[(0,g.jsxs)("div",{className:"px-5 py-4 border-b",children:[(0,g.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Processing: ",s||"Video"]}),(0,g.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ",a||"processing"," \u2022 Step: ",l]})]}),(0,g.jsxs)("div",{className:"px-5 py-4",children:[(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:(0,g.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(Math.min(r||0,100),"%")}})}),(0,g.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,g.jsx)("li",{className:"".concat(r>=1?"text-blue-700":"text-gray-500"),children:"\u2022 Preparing"}),(0,g.jsx)("li",{className:"".concat(r>=33?"text-blue-700":"text-gray-500"),children:"\u2022 Editing"}),(0,g.jsx)("li",{className:"".concat(r>=66?"text-blue-700":"text-gray-500"),children:"\u2022 Finalizing"})]}),n&&(0,g.jsxs)("div",{className:"mt-3 p-3 bg-red-50 text-red-700 rounded",children:["Error: ",n]})]}),(0,g.jsx)("div",{className:"px-5 py-3 border-t flex justify-end",children:(0,g.jsx)("button",{onClick:o,className:"px-4 py-2 rounded bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Close"})})]})})}const ce=(0,x.A)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);var de=s(797),me=s(3204),ue=s(2629),xe=s(9742),he=s(7104),pe=s(9940);s(2656),s(5783);function ge(e){let{uploadContent:t,processContent:s,uploadCompleted:a,processCompleted:r=!1,scheduleCompleted:n=!1,stepIndex:o=0,onNext:l,onPrev:i,onFinish:c,onUploadClick:d}=e;return(0,g.jsxs)("div",{className:"relative w-full h-screen",children:[(0,g.jsx)("div",{"aria-hidden":"true",className:"pointer-events-none absolute left-0 right-0 top-1/2 -translate-y-1/2 z-[5]",children:(0,g.jsx)("div",{className:"w-full h-0 border-t-2 border-gray-600 border-dashed opacity-90"})}),(0,g.jsx)("section",{id:"structure-preview",className:"relative w-full h-full overflow-hidden",tabIndex:0,children:(0,g.jsxs)("div",{className:"relative z-10 flex h-screen transition-transform duration-700 ease-out",style:{width:"".concat(400,"%"),transform:"translateX(-".concat(25*(o||0),"%)")},children:[(0,g.jsx)("div",{className:"w-full h-screen relative",children:(0,g.jsxs)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0",children:[(0,g.jsxs)("div",{className:"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl w-full p-6 max-w-[620px] relative z-10","aria-label":"Upload container",children:[(0,g.jsx)("h2",{className:"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4",style:{textShadow:"0 2px 8px rgba(0,0,0,0.9)"},children:"STEP 1"}),t&&(0,g.jsx)("div",{className:"w-full",children:t})]}),(0,g.jsx)("div",{className:"mt-4 relative z-10 flex items-center justify-center",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:["function"===typeof l&&(0,g.jsx)("button",{className:"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl shadow-2xl min-w-[180px] sm:min-w-[220px] disabled:opacity-50 disabled:cursor-not-allowed",onClick:l,disabled:!a,"aria-disabled":!a,children:"Next step"}),!a&&(0,g.jsxs)("div",{className:"group relative",children:[(0,g.jsx)("button",{type:"button",className:"w-6 h-6 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center font-bold shadow","aria-label":"Upload required tooltip",children:"?"}),(0,g.jsx)("div",{role:"tooltip",className:"absolute left-1/2 -translate-x-1/2 mt-2 w-max max-w-xs px-3 py-2 rounded-lg bg-gray-800 text-white text-xs shadow-lg opacity-0 group-hover:opacity-100",children:"Upload content to proceed to the next step"})]})]})})]})}),(0,g.jsx)("div",{className:"w-full h-screen relative",children:(0,g.jsxs)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0",children:[(0,g.jsxs)("div",{className:"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl p-6 w-full max-w-[620px] relative z-10","aria-label":"Process container",children:[(0,g.jsx)("h2",{className:"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4",style:{textShadow:"0 2px 8px rgba(0,0,0,0.9)"},children:"STEP 2"}),s&&(0,g.jsx)("div",{className:"w-full",children:s})]}),(0,g.jsxs)("div",{className:"mt-4 relative z-10 flex items-center justify-center gap-3",children:["function"===typeof i&&(0,g.jsx)("button",{className:"btn btn-secondary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]",onClick:i,children:"Back"}),"function"===typeof l&&(0,g.jsx)("button",{className:"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]",onClick:l,children:"Next"})]})]})}),(0,g.jsx)("div",{className:"w-full h-screen relative",children:(0,g.jsxs)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0",children:[(0,g.jsxs)("div",{className:"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl p-6 w-full max-w-[620px] relative z-10","aria-label":"Schedule container",children:[(0,g.jsx)("h2",{className:"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4",style:{textShadow:"0 2px 8px rgba(0,0,0,0.9)"},children:"STEP 3"}),(0,g.jsx)("div",{className:"w-full"})]}),(0,g.jsxs)("div",{className:"mt-4 relative z-10 flex items-center justify-center gap-3",children:["function"===typeof i&&(0,g.jsx)("button",{className:"btn btn-secondary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]",onClick:i,children:"Back"}),"function"===typeof l&&(0,g.jsx)("button",{className:"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl shadow-2xl min-w-[180px] sm:min-w-[220px]",onClick:l,children:"Next step"})]})]})}),(0,g.jsx)("div",{className:"w-full h-screen relative",children:(0,g.jsxs)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full px-4 flex flex-col items-center z-0",children:[(0,g.jsxs)("div",{className:"backdrop-blur-md bg-white/5 border border-white/10 rounded-3xl p-6 w-full max-w-[620px] relative z-10","aria-label":"Confirm container",children:[(0,g.jsx)("h2",{className:"text-white font-extrabold uppercase tracking-tight text-3xl sm:text-4xl md:text-5xl text-center py-4",style:{textShadow:"0 2px 8px rgba(0,0,0,0.9)"},children:"STEP 4"}),(0,g.jsx)("div",{className:"w-full"})]}),(0,g.jsxs)("div",{className:"mt-4 relative z-10 flex items-center justify-center gap-3",children:["function"===typeof i&&(0,g.jsx)("button",{className:"btn btn-secondary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl min-w-[140px] sm:min-w-[160px]",onClick:i,children:"Back"}),"function"===typeof c&&(0,g.jsx)("button",{className:"btn btn-primary rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg md:text-xl shadow-2xl min-w-[180px] sm:min-w-[220px]",onClick:c,disabled:!n,children:"Finish"})]})]})})]})})]})}var be=s(7950);function fe(e,t,s){return("function"===typeof s?s():Math.random())*(t-e)+e}function ye(e){let{files:t=[],className:s="",onDelete:n}=e;const[o,l]=(0,r.useState)({}),[i,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),u=(0,r.useMemo)(()=>t.slice(0,6).map((e,t)=>{const s=e.file||e,a=URL.createObjectURL(s),r="".concat(e.id||t,"-").concat((null===s||void 0===s?void 0:s.name)||"","-").concat((null===s||void 0===s?void 0:s.size)||""),n=(o=function(e){let t=0;for(let s=0;s<(e||"").length;s++)t=Math.imul(31,t)+e.charCodeAt(s)|0;return t>>>0}(r),function(){let e=o+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296});var o;const l=Math.round(fe(52,76,n)),i="".concat(Math.round(fe(6,80,n)),"%"),c="".concat(Math.round(fe(8,70,n)),"%"),d="".concat(Math.round(fe(100,240,n)),"px"),m="".concat(Math.round(fe(100,220,n)),"px"),u="".concat(fe(10,18,n).toFixed(2),"s"),x="".concat(fe(10,18,n).toFixed(2),"s"),h="".concat(fe(0,2,n).toFixed(2),"s"),p="".concat(fe(0,2,n).toFixed(2),"s");return{id:e.id||t,file:s,url:a,size:l,startLeft:i,startTop:c,dx:d,dy:m,durX:u,durY:x,delayX:h,delayY:p}}),[t]);return(0,r.useEffect)(()=>{if("undefined"!==typeof document&&!i){const e=document.createElement("div");e.className="upload-bubbles-layer",e.style.position="fixed",e.style.inset="0",e.style.pointerEvents="none",e.style.zIndex="300",document.body.appendChild(e),c(e)}},[i]),(0,r.useEffect)(()=>{const e=[];return u.forEach(t=>{var s,r,n;if(o[t.id])return;const i=(null===(s=t.file)||void 0===s?void 0:s.type)||"",c=(null===(r=t.file)||void 0===r||null===(n=r.name)||void 0===n?void 0:n.toLowerCase())||"";if(i.startsWith("image/")||/(\.jpg|\.jpeg|\.png|\.gif|\.webp|\.heic|\.heif)$/.test(c))try{const s=new Image;s.crossOrigin="anonymous",s.src=t.url,e.push({kind:"img",el:s,url:t.url}),s.onload=async()=>{try{try{var e;await(null===(e=s.decode)||void 0===e?void 0:e.call(s))}catch(r){}const n=document.createElement("canvas"),o=320,i=Math.min(1,o/(s.naturalWidth||t.size)),c=Math.round((s.naturalWidth||t.size)*i)||t.size,d=Math.round((s.naturalHeight||t.size)*i)||t.size;n.width=c,n.height=d;n.getContext("2d").drawImage(s,0,0,c,d);const m=n.toDataURL("image/jpeg",.8);l(e=>(0,a.A)((0,a.A)({},e),{},{[t.id]:m}))}catch(r){}try{URL.revokeObjectURL(t.url)}catch(r){}},s.onerror=()=>{try{URL.revokeObjectURL(t.url)}catch(e){}}}catch(d){}else try{const s=document.createElement("video");s.preload="metadata",s.muted=!0,s.playsInline=!0,s.src=t.url,e.push({kind:"vid",el:s,url:t.url});const r=()=>{try{s.currentTime=.12}catch(d){}},n=()=>{try{const e=document.createElement("canvas"),r=Math.min(s.videoWidth||t.size,320),n=s.videoHeight||t.size,o=Math.round(n*(r/(s.videoWidth||t.size)));e.width=r,e.height=o>0?o:r;e.getContext("2d").drawImage(s,0,0,e.width,e.height);const i=e.toDataURL("image/jpeg",.7);l(e=>(0,a.A)((0,a.A)({},e),{},{[t.id]:i}))}catch(d){}finally{try{s.removeEventListener("loadedmetadata",r),s.removeEventListener("seeked",n),s.pause()}catch(d){}try{URL.revokeObjectURL(t.url)}catch(d){}}};s.addEventListener("loadedmetadata",r,{once:!0}),s.addEventListener("seeked",n,{once:!0})}catch(d){}}),()=>{e.forEach(e=>{try{if("img"===e.kind)e.el.onload=null,e.el.onerror=null,e.el.src="";else if("vid"===e.kind){var t,s,a,r,n,o,l,i,c,d;null===(t=(s=e.el).pause)||void 0===t||t.call(s),null===(a=(r=e.el).removeEventListener)||void 0===a||a.call(r,"loadedmetadata",()=>{}),null===(n=(o=e.el).removeEventListener)||void 0===n||n.call(o,"seeked",()=>{}),e.el.src="",null===(l=(i=e.el).removeAttribute)||void 0===l||l.call(i,"src"),null===(c=(d=e.el).load)||void 0===c||c.call(d)}}catch(m){}})}},[t]),t&&0!==t.length&&i?(0,be.createPortal)((0,g.jsx)("div",{className:"absolute inset-0 ".concat(s," ").concat(d?"bubbles-paused":""),style:{zIndex:300,willChange:"transform, opacity",pointerEvents:"none"},children:u.map(e=>(0,g.jsx)("div",{className:"upload-bubble-anim-x",style:{left:e.startLeft,top:e.startTop,"--dx":e.dx,animationDuration:e.durX,animationDelay:e.delayX},children:(0,g.jsxs)("div",{className:"upload-bubble upload-bubble--badge ".concat(o[e.id]?"upload-bubble--ready upload-bubble--highlight":"upload-bubble--loading upload-bubble--highlight"),style:{width:e.size,height:e.size,"--dy":e.dy,animationDuration:e.durY,animationDelay:e.delayY,boxShadow:"0 10px 22px rgba(0,0,0,0.14), inset 0 1px 0 rgba(255,255,255,0.35)",pointerEvents:"auto"},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[o[e.id]?(0,g.jsx)("img",{src:o[e.id],alt:"thumbnail",className:"upload-bubble-thumb"}):(0,g.jsx)("div",{className:"upload-bubble-thumb",style:{background:"linear-gradient(135deg, #ffffff 0%, #e9eef7 100%)"}}),d&&(0,g.jsx)("button",{type:"button",className:"upload-bubble-delete","aria-label":"Remove selection",onClick:t=>{t.preventDefault(),t.stopPropagation(),n&&n(e.id)},children:"\xd7"})]})},e.id))}),i):null}const ve=()=>{const{user:e,refreshUser:t}=(0,o.A)(),{stats:s,fetchStats:m,formatFileSize:x}=(0,l.J)(),h=(0,n.zy)(),p=(0,r.useRef)(null),[y,v]=(0,r.useState)(0),[w,N]=(0,r.useState)(!0),[,k]=(0,r.useState)(null),A=(0,r.useRef)(null),C=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{success:0,error:0,totalAdd:0},t=arguments.length>1?arguments[1]:void 0,s=A.current;s&&s.toastId?e.totalAdd&&(s.total+=e.totalAdd):(s={total:e.totalAdd||0,success:0,error:0,toastId:d.Ay.loading("Uploading 0/".concat(e.totalAdd||0,"..."),{duration:1/0})},A.current=s,k(s)),s.success+=e.success||0,s.error+=e.error||0;try{"undefined"!==typeof window&&(e.success&&e.success>0&&window.dispatchEvent(new CustomEvent("upload-notification",{detail:{kind:"success"}})),e.error&&e.error>0&&window.dispatchEvent(new CustomEvent("upload-notification",{detail:{kind:"error"}})))}catch(l){}const r=s.success+s.error,n=s.total>0&&r>=s.total,o=t||(n?"Uploaded ".concat(s.success,"/").concat(s.total).concat(s.error?" \u2022 ".concat(s.error," failed"):""):"Uploading ".concat(r,"/").concat(s.total,"..."));n?s.error?d.Ay.error(o,{id:s.toastId,duration:6e3}):d.Ay.success(o,{id:s.toastId,duration:6e3}):d.Ay.loading(o,{id:s.toastId,duration:1/0}),n?(k(null),A.current=null):k((0,a.A)({},s))},[]),S=(0,r.useCallback)(()=>{const e=()=>{const e=p.current||document.getElementById("videos-section");if(!e)return!1;const t=(()=>{try{const e=document.getElementById("dashboard-header");return(e?e.offsetHeight:64)+8}catch(e){return 72}})(),s=e.getBoundingClientRect().top+window.scrollY-t;try{window.scrollTo({top:Math.max(s,0),behavior:"smooth"})}catch(a){window.scrollTo(0,Math.max(s,0))}if("function"===typeof e.focus)try{e.focus({preventScroll:!0})}catch(a){}return!0};if(e())return;const t=[100,250,500];for(const s of t)setTimeout(()=>e(),s)},[]);console.log("Dashboard Debug - User:",e),console.log("Dashboard Debug - Stats:",s),console.log("Dashboard Debug - User Role:",null===e||void 0===e?void 0:e.role),console.log("Dashboard Debug - User Plan:",null===e||void 0===e?void 0:e.plan),console.log("Dashboard Debug - Stats Plan:",null===s||void 0===s?void 0:s.plan),(0,r.useEffect)(()=>{const e=e=>{("F5"===e.key||e.ctrlKey&&"r"===e.key)&&(e.preventDefault(),t(),m())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,m]);const E=(0,n.Zp)(),[D,F]=(0,r.useState)([]),[T,_]=(0,r.useState)(!0),[P,z]=(0,r.useState)(!1),[I,M]=(0,r.useState)(0),[R,L]=(0,r.useState)([]),[B,U]=(0,r.useState)(!1),[O,V]=(0,r.useState)(!1),[W,H]=(0,r.useState)(null),[K,Y]=(0,r.useState)("dashboard"),[q,X]=(0,r.useState)(!1),J=(0,r.useRef)(null),[$,Q]=(0,r.useState)(!1),[se]=(0,r.useState)(null),[ne]=(0,r.useState)(null),[oe,be]=(0,r.useState)(!1),[fe,ve]=(0,r.useState)({instagram:"",tiktok:"",youtube:"",twitter:"",facebook:""}),[je,we]=(0,r.useState)(!1),[Ne,ke]=(0,r.useState)(null),[Ae,Ce]=(0,r.useState)(!1),[Se,Ee]=(0,r.useState)(null),[De,Fe]=(0,r.useState)(null),[Te,_e]=(0,r.useState)(!1),[Pe,ze]=(0,r.useState)(!1),[Ie,Me]=(0,r.useState)(!1),[Re,Le]=(0,r.useState)([]),[Be,Ue]=(0,r.useState)(!1),[Oe,Ve]=(0,r.useState)(0),[We,He]=(0,r.useState)(null),[Ke,Ye]=(0,r.useState)(!1),[qe,Ge]=(0,r.useState)(!1),Xe="http://localhost:5002".replace(/\/$/,""),Je=/\/api$/.test(Xe)?Xe.replace(/\/api$/,""):Xe,$e="undefined"!==typeof window?window.location.origin:"",Ze=$e.includes("localhost:3000")?"http://localhost:5000":$e,Qe=Je||Ze,et=(0,r.useCallback)(e=>"".concat(Qe).concat(e),[Qe]),tt=(0,r.useCallback)(async e=>{_e(!0);try{const t=localStorage.getItem("token"),s=await c.A.get(et("/api/videos/".concat(e._id,"/stream")),{headers:{Authorization:"Bearer ".concat(t)},responseType:"blob"}),a=new Blob([s.data],{type:"video/mp4"}),r=URL.createObjectURL(a);Fe(r)}catch(t){console.error("Error loading video blob:",t),d.Ay.error("Failed to load video preview")}finally{_e(!1)}},[et]),st=()=>{Ce(!1),Ee(null),De&&(URL.revokeObjectURL(De),Fe(null)),_e(!1)},at=(0,r.useCallback)(async e=>{const t=e=>(e.type||"").startsWith("video/")||/\.(mp4|avi|mov|wmv|flv|webm|mkv)$/i.test(e.name||""),s=e=>(e.type||"").startsWith("image/")||/\.(jpg|jpeg|png|gif|webp|heic|heif)$/i.test(e.name||""),a=e.filter(e=>t(e)||s(e)),r=e.filter(e=>!(t(e)||s(e)));if(r.length>0&&d.Ay.error("Only videos or images are supported. Skipped ".concat(r.length," unsupported file").concat(r.length>1?"s":"",".")),0!==a.length){V(!0),C({totalAdd:a.length});for(const e of a){const t=Date.now()+Math.random();L(s=>[...s,{file:e,id:t}]);const s=J.current;if(!s)break;Promise.resolve(s({file:e,id:t,title:e.name})).catch(()=>{C({error:1})})}}},[C]),{getRootProps:rt,getInputProps:nt,isDragActive:ot,open:lt}=(0,i.VB)({onDrop:at,accept:{"video/*":[".mp4",".avi",".mov",".wmv",".flv",".webm",".mkv"],"image/*":[".jpg",".jpeg",".png",".gif",".webp",".heic",".heif"]},multiple:!0,disabled:!1});(0,r.useEffect)(()=>{"/my-files"!==h.pathname&&"#files"!==h.hash||S(),"/dashboard"===h.pathname&&("#social"===h.hash?Y("social"):"#settings"===h.hash?Y("settings"):Y("dashboard"))},[h.pathname,h.hash,S]);const it=(0,r.useCallback)(()=>{N(!1);try{document.documentElement.style.overflow="",document.body.style.overflow=""}catch(e){}S()},[S]),ct=(0,r.useCallback)(async()=>{try{const t=window.AudioContext||window.webkitAudioContext;if(!t)return;const s=new t;if("suspended"===s.state)try{await s.resume()}catch(e){}const a=s.createOscillator(),r=s.createGain();a.type="sine";const n=s.currentTime;a.frequency.setValueAtTime(280,n),a.frequency.exponentialRampToValueAtTime(80,n+.12),r.gain.setValueAtTime(.001,n),r.gain.exponentialRampToValueAtTime(.35,n+.02),r.gain.exponentialRampToValueAtTime(1e-4,n+.15),a.connect(r).connect(s.destination),a.start(n),a.stop(n+.16),a.onended=()=>{try{r.disconnect(),a.disconnect(),s.close()}catch(e){}}}catch(e){}},[]),dt=(0,r.useCallback)(async()=>{if(N(!0),1===y)try{const e=localStorage.getItem("token"),t=await c.A.get(et("/api/videos"),{headers:{Authorization:"Bearer ".concat(e)}});let s=[];Array.isArray(t.data)?s=t.data:t.data&&Array.isArray(t.data.videos)?s=t.data.videos:t.data&&t.data.data&&Array.isArray(t.data.data)&&(s=t.data.data),F(s);let a=null;if(null!==W&&void 0!==W&&W.name&&(a=s.find(e=>(e.title||e.filename)===W.name&&("ready"===e.status||"completed"===e.status))||null),!a){const e=s.filter(e=>"ready"===e.status);e.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)),a=e[0]||null}if(!a)return void d.Ay.error("No ready video found to process");await c.A.post(et("/api/videos/".concat(a._id,"/process")),{editingOptions:{}},{headers:{Authorization:"Bearer ".concat(e)}}),d.Ay.success("Video queued for editing")}catch(s){var e,t;const a=(null===s||void 0===s||null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to queue video for editing";return void d.Ay.error(a)}v(e=>e>=3?(setTimeout(()=>it(),0),e):Math.min(e+1,3))},[it,y,et]),mt=(0,r.useCallback)(()=>{v(e=>Math.max(e-1,0))},[]);(0,r.useEffect)(()=>{try{w?(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"):(document.documentElement.style.overflow="",document.body.style.overflow="")}catch(e){}return()=>{try{document.documentElement.style.overflow="",document.body.style.overflow=""}catch(e){}}},[w]),(0,r.useEffect)(()=>{if("dashboard"!==K){N(!1);try{document.documentElement.style.overflow="",document.body.style.overflow=""}catch(e){}}},[K]);const ut=(0,r.useRef)(y);(0,r.useEffect)(()=>{try{"number"===typeof y&&y!==ut.current&&(ct(),ut.current=y)}catch(e){}},[y,ct]),(0,r.useEffect)(()=>{if(w)try{window.scrollTo({top:0,behavior:"auto"})}catch(e){window.scrollTo(0,0)}},[w]);const xt=(0,r.useCallback)(async()=>{try{const e=localStorage.getItem("token");console.log("Fetching videos with token:",e?"Present":"Missing");const t=await c.A.get("".concat("http://localhost:5002","/api/videos"),{headers:{Authorization:"Bearer ".concat(e)}});console.log("API Response:",t.data);let s=[];Array.isArray(t.data)?s=t.data:t.data&&Array.isArray(t.data.videos)?s=t.data.videos:t.data&&t.data.data&&Array.isArray(t.data.data)&&(s=t.data.data),console.log("Processed videos data:",s),console.log("Number of videos:",s.length),F(s)}catch(t){var e;console.error("Error fetching videos:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)?(localStorage.removeItem("token"),E("/login")):d.Ay.error("Failed to fetch videos")}finally{_(!1)}},[E]),ht=(0,r.useCallback)(async e=>{V(!0),z(!0),M(0);try{const t=Array.isArray(e.orderedFiles)?e.orderedFiles.map(e=>e.file||e):e.file?[e.file]:[];if(!t.length)return console.error("No files found in videoData:",e),void d.Ay.error("No file selected for upload");const a=new FormData;t.forEach(e=>a.append("video",e));const r=t.reduce((e,t)=>e+(t.size||0),0),n=(null===s||void 0===s?void 0:s.storageLimit)||0,o=(null===s||void 0===s?void 0:s.storageUsed)||0;if(n>0&&o+r>n)return void d.Ay.error("Upload exceeds your storage limit. Used ".concat(x(o),", adding ").concat(x(r)," would exceed ").concat(x(n),"."));const l=t[0],i=e.title||e.videoName||l.name;a.append("title",i),a.append("description",e.description||""),a.append("multipleFiles",String(t.length>1)),a.append("fileCount",String(t.length)),a.append("fileNames",JSON.stringify(t.map(e=>e.name)));const u={videoName:e.videoName||i,videoType:e.videoType||"",targetAudience:e.targetAudience||"",editingStyle:e.editingStyle||"",duration:e.duration||"",specialRequests:e.specialRequests||"",platforms:Array.isArray(e.platforms)?e.platforms:[],recommendedDurations:e.recommendedDurations||{},storyMode:Boolean(e.storyMode||e.isStory),estimatedExtraCredits:"number"===typeof e.estimatedExtraCredits?e.estimatedExtraCredits:e.storyMode||e.isStory?1:0};a.append("editingData",JSON.stringify(u));const h=localStorage.getItem("token"),p=async function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;try{return await c.A.post(e,t,s)}catch(n){const o="ERR_NETWORK_CHANGED"===(null===n||void 0===n?void 0:n.code)||"string"===typeof(null===n||void 0===n?void 0:n.message)&&n.message.includes("ERR_NETWORK_CHANGED")||"function"===typeof(null===n||void 0===n?void 0:n.toString)&&n.toString().includes("ERR_NETWORK_CHANGED");if(a>0&&o)return await new Promise(e=>setTimeout(e,r)),p(e,t,s,a-1,2*r);throw n}},g=await p(et("/api/videos/upload"),a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(h)},maxBodyLength:1/0,maxContentLength:1/0,onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);M(t)}});console.log("Upload response:",g.data),C({success:1}),V(!0),H({name:i,size:(null===l||void 0===l?void 0:l.size)||0}),xt(),m()}catch(r){var t,a;console.error("Upload error:",r);const e=null===r||void 0===r||null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message;C({error:1},e?"Upload error: ".concat(e):void 0)}finally{z(!1),M(0)}},[s,xt,m,et,x,C]);(0,r.useEffect)(()=>{try{y>=2&&R.length>0&&L([])}catch(e){}},[y,R.length]),(0,r.useEffect)(()=>{J.current=ht},[ht]);(0,r.useEffect)(()=>{!Se||"ready"!==Se.status&&"completed"!==Se.status||tt(Se)},[Se,tt]);const pt=async()=>{if(Ie)return;Ve(0),Ye(!1),He(null),Ue(!0),Me(!0);const e=setInterval(()=>{Ve(t=>t>=90?(clearInterval(e),90):t+15*Math.random())},500);try{const t=localStorage.getItem("token");if(!t)return d.Ay.error("Authentication required. Please log in again."),void Ue(!1);const s=await c.A.post(et("/api/backup-simple/create"),{},{headers:{Authorization:"Bearer ".concat(t)}});clearInterval(e),Ve(100),200===s.status&&s.data&&s.data.backup?(He({name:s.data.backup,path:s.data.path,size:"Calculating...",created:(new Date).toLocaleString()}),Ye(!0),await ft()):(d.Ay.error("Backup creation failed"),Ue(!1))}catch(n){var t,s;if(clearInterval(e),console.error("Backup creation error:",n),Ue(!1),403===(null===(t=n.response)||void 0===t?void 0:t.status))d.Ay.error("Admin access required for backup operations");else if(401===(null===(s=n.response)||void 0===s?void 0:s.status))d.Ay.error("Authentication failed. Please log in again.");else{var a,r;d.Ay.error((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Failed to create backup")}}finally{Me(!1)}},gt=e=>{try{const t=localStorage.getItem("token"),s=et("/api/backup-simple/download/".concat(e));fetch(s,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));return e.blob()}).then(t=>{const s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="".concat(e,".zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s),d.Ay.success("Backup downloaded: ".concat(e,".zip"))}).catch(e=>{console.error("Download error:",e),d.Ay.error("Download failed: ".concat(e.message))})}catch(t){console.error("Download error:",t),d.Ay.error("Download failed: ".concat(t.message))}},bt=e=>{try{if(e.created)return new Date(e.created).toLocaleString();{const t=e.name.replace("backup-","").replace(/T/," ").replace(/-/g,":").replace("Z","");return new Date(t).toLocaleString()}}catch(t){return"Unknown date"}},ft=async()=>{try{const e=localStorage.getItem("token"),t=await c.A.get("/api/backup/list",{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&Le(t.data.backups)}catch(e){console.error("Error fetching backups:",e)}};return(0,r.useEffect)(()=>{xt(),m()},[xt,m]),T?(0,g.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(ce,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600"}),(0,g.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading your dashboard..."})]})}):(0,g.jsxs)("div",{className:"min-h-screen bg-transparent",children:[(0,g.jsx)(f.A,{isOpen:q,onClose:()=>X(!1)}),(()=>{try{const t="undefined"!==typeof window&&"true"===localStorage.getItem("onboardingDismissed"),s=!(Array.isArray(null===e||void 0===e?void 0:e.linkedSocialAccounts)&&e.linkedSocialAccounts.includes("facebook"))&&!t;return(0,g.jsx)(j,{isOpen:s,onClose:()=>{"undefined"!==typeof window&&localStorage.setItem("onboardingDismissed","true")}})}catch(t){return null}})(),(0,g.jsxs)("main",{id:"dashboard-main",className:"md:ml-64 bg-transparent min-h-[calc(100vh-4rem)] overflow-y-auto relative",role:"main","aria-label":"Dashboard content",children:["dashboard"===K&&(0,g.jsxs)("div",{className:"p-0 min-h-screen",children:[R.length>0&&(0,g.jsx)(ye,{files:R,className:"",onDelete:e=>L(t=>t.filter(t=>(t.id||(null===t||void 0===t?void 0:t.id))!==e))}),(0,g.jsx)(ge,{uploadCompleted:O,onUploadClick:lt,uploadContent:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",(0,a.A)((0,a.A)({},rt({tabIndex:-1})),{},{className:"relative glass-dropzone rounded-xl p-8 text-center border-2 border-dashed transition-colors focus:outline-none outline-none focus-visible:outline-none focus:ring-0 focus-visible:ring-0 ".concat(ot?"border-blue-300/70 bg-white/20":"border-gray-600 hover:border-gray-700"," ").concat(P?"opacity-50 cursor-not-allowed":"cursor-pointer"),children:[(0,g.jsx)("input",(0,a.A)({id:"dropzone-input"},nt())),(0,g.jsx)("div",{className:"plastic-badge w-16 h-16 mx-auto -mt-4 mb-3 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center ring-2 ring-blue-300/40 shadow-xl",children:(0,g.jsx)(de.A,{className:"w-8 h-8 text-white"})}),P?(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("p",{className:"text-gray-600",children:["Uploading... ",I,"%"]}),(0,g.jsx)("div",{className:"w-full bg-white/30 rounded-full h-2",children:(0,g.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(I,"%")}})})]}):ot?(0,g.jsx)("p",{className:"text-blue-700 font-medium",children:"Drop videos and images here..."}):(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-black mb-1",children:"Drag & Drop Videos and Images Here"}),(0,g.jsx)("p",{className:"text-sm text-white",children:"Supports MP4, AVI, MOV, WMV, FLV, WebM, MKV; plus JPG, JPEG, PNG, GIF, WEBP, HEIC, HEIF"})]})]})),R.length>0&&null]}),processContent:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:["Click ",(0,g.jsx)("span",{className:"text-blue-600",children:"Process Video"})," when you\u2019re ready for your files to be edited and prepared to schedule."]}),(0,g.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please hover or tap a bubble to remove it from the video process, or click Back to add more files."})]})}),stepIndex:y,onNext:dt,onPrev:mt,onFinish:it}),(0,g.jsx)("div",{className:"max-w-6xl mx-auto space-y-8"})]}),"stats"===K&&(0,g.jsx)("div",{className:"p-3 lg:p-4 min-h-screen",children:(0,g.jsx)("div",{className:"max-w-6xl mx-auto space-y-6",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,g.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Analytics Dashboard"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,g.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Total Videos"}),(0,g.jsx)("p",{className:"text-3xl font-bold",children:s.videoCount||0})]}),(0,g.jsx)(Z.A,{className:"w-8 h-8 text-blue-200"})]})}),(0,g.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-green-100 text-sm font-medium",children:"Storage Used"}),(0,g.jsx)("p",{className:"text-3xl font-bold",children:x(s.storageUsed||0)})]}),(0,g.jsx)(me.A,{className:"w-8 h-8 text-green-200"})]})}),(0,g.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-purple-100 text-sm font-medium",children:"Plan"}),(0,g.jsx)("p",{className:"text-3xl font-bold",children:s.plan||"Free"})]}),(0,g.jsx)(ue.A,{className:"w-8 h-8 text-purple-200"})]})}),(0,g.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-orange-100 text-sm font-medium",children:"Video Limit"}),(0,g.jsx)("p",{className:"text-3xl font-bold",children:"admin"===(null===e||void 0===e?void 0:e.role)?"\u221e":s.maxVideos||0})]}),(0,g.jsx)(xe.A,{className:"w-8 h-8 text-orange-200"})]})})]})]})})}),Be&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,g.jsx)("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl",children:(0,g.jsx)("div",{className:"text-center",children:Ke?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,g.jsx)(ee.A,{className:"w-10 h-10 text-white"})}),(0,g.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Full Website Backup Complete! \ud83c\udf89"}),(0,g.jsx)("p",{className:"text-gray-600 mb-6",children:"Your complete website backup has been created successfully."}),We&&(0,g.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,g.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Backup ID:"}),(0,g.jsx)("span",{className:"text-sm text-gray-900 font-mono",children:We.name})]}),(0,g.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,g.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Size:"}),(0,g.jsx)("span",{className:"text-sm text-gray-900",children:We.size})]}),(0,g.jsxs)("div",{className:"flex justify-between items-center",children:[(0,g.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Created:"}),(0,g.jsx)("span",{className:"text-sm text-gray-900",children:We.created})]})]}),(0,g.jsxs)("div",{className:"flex space-x-3",children:[(0,g.jsxs)("button",{onClick:()=>{We&&gt(We.name)},className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,g.jsx)(he.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Download"})]}),(0,g.jsx)("button",{onClick:()=>{Ue(!1),Ve(0),Ye(!1),He(null)},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-200 transition-all duration-200",children:"Close"})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,g.jsx)(me.A,{className:"w-10 h-10 text-white animate-pulse"})}),(0,g.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Creating Full Website Backup"}),(0,g.jsx)("p",{className:"text-gray-600 mb-6",children:"Please wait while we backup your entire website including database, server files, client files, and configuration..."}),(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden",children:(0,g.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(Oe,"%")}})}),(0,g.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,g.jsx)("span",{className:"text-gray-500",children:"Progress"}),(0,g.jsxs)("span",{className:"font-semibold text-blue-600",children:[Math.round(Oe),"%"]})]}),(0,g.jsxs)("div",{className:"mt-6 text-left",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2 ".concat(Oe>10?"text-green-600":"text-gray-400"),children:[(0,g.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,g.jsx)("span",{className:"text-sm",children:"Connecting to database..."})]}),(0,g.jsxs)("div",{className:"flex items-center mb-2 ".concat(Oe>25?"text-green-600":"text-gray-400"),children:[(0,g.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,g.jsx)("span",{className:"text-sm",children:"Exporting database collections..."})]}),(0,g.jsxs)("div",{className:"flex items-center mb-2 ".concat(Oe>45?"text-green-600":"text-gray-400"),children:[(0,g.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,g.jsx)("span",{className:"text-sm",children:"Backing up server files..."})]}),(0,g.jsxs)("div",{className:"flex items-center mb-2 ".concat(Oe>65?"text-green-600":"text-gray-400"),children:[(0,g.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,g.jsx)("span",{className:"text-sm",children:"Backing up client files..."})]}),(0,g.jsxs)("div",{className:"flex items-center mb-2 ".concat(Oe>85?"text-green-600":"text-gray-400"),children:[(0,g.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,g.jsx)("span",{className:"text-sm",children:"Backing up configuration..."})]}),(0,g.jsxs)("div",{className:"flex items-center ".concat(Oe>=100?"text-green-600":"text-gray-400"),children:[(0,g.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,g.jsx)("span",{className:"text-sm",children:"Compressing and finalizing..."})]})]})]})})})}),qe&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,g.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[80vh] overflow-hidden",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"System Backups"}),(0,g.jsx)("p",{className:"text-gray-600",children:"Manage your website backups"})]}),(0,g.jsx)("button",{onClick:()=>Ge(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,g.jsx)(u.A,{className:"w-6 h-6 text-gray-500"})})]}),0===Re.length?(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,g.jsx)(me.A,{className:"w-10 h-10 text-gray-400"})}),(0,g.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Backups Found"}),(0,g.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first backup to get started"}),(0,g.jsx)("button",{onClick:()=>{Ge(!1),pt()},className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"Create First Backup"})]}):(0,g.jsx)("div",{className:"overflow-y-auto max-h-96",children:(0,g.jsx)("div",{className:"space-y-3",children:Re.map((e,t)=>(0,g.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,g.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,g.jsx)(me.A,{className:"w-6 h-6 text-blue-600"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name||e}),(0,g.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,g.jsxs)("span",{children:["Created: ",bt(e)]}),e.size&&(0,g.jsxs)("span",{children:["Size: ",e.size]})]})]})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)("button",{onClick:()=>gt(e.name||e),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Download Backup",children:(0,g.jsx)(he.A,{className:"w-5 h-5"})}),(0,g.jsx)("button",{onClick:()=>{const t=e.name||e;window.confirm('Are you sure you want to delete backup "'.concat(t,'"? This action cannot be undone.'))&&(async e=>{try{const t=localStorage.getItem("token");(await c.A.delete(et("/api/backup/".concat(e)),{headers:{Authorization:"Bearer ".concat(t)}})).data.success?(d.Ay.success("Backup ".concat(e," deleted successfully")),await ft()):d.Ay.error("Failed to delete backup")}catch(t){console.error("Error deleting backup:",t),d.Ay.error("Failed to delete backup")}})(t)},className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Backup",children:(0,g.jsx)(u.A,{className:"w-5 h-5"})})]})]},t))})}),(0,g.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 flex justify-between items-center",children:[(0,g.jsx)("div",{className:"text-sm text-gray-600",children:Re.length>0&&"".concat(Re.length," backup").concat(Re.length>1?"s":""," available")}),(0,g.jsxs)("div",{className:"flex space-x-3",children:[(0,g.jsx)("button",{onClick:()=>Ge(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Close"}),(0,g.jsxs)("button",{onClick:()=>{Ge(!1),pt()},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,g.jsx)(me.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Create New Backup"})]})]})]})]})}),"social"===K&&(0,g.jsx)("div",{className:"p-3 lg:p-4 min-h-screen",style:{marginTop:"calc(var(--dashboard-header-bottom, 64px) + 12px)"},children:(0,g.jsx)("div",{className:"max-w-6xl mx-auto space-y-6",children:(0,g.jsx)(le,{})})}),"settings"===K&&(0,g.jsx)("div",{className:"p-3 lg:p-4 min-h-screen",children:(0,g.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,g.jsxs)("div",{className:"bg-white rounded-lg lg:rounded-xl border border-gray-200 p-4 lg:p-6",children:[(0,g.jsx)("h2",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6",children:"Account Settings"}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-medium text-gray-900",children:"Profile Information"}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Update your account details"})]}),(0,g.jsx)("button",{className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium",children:"Edit"})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-medium text-gray-900",children:"Password"}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Change your password"})]}),(0,g.jsx)("button",{className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium",children:"Change"})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-medium text-gray-900",children:"Notifications"}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your notification preferences"})]}),(0,g.jsx)("button",{className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium",children:"Configure"})]})]})]}),(0,g.jsxs)("div",{className:"bg-white rounded-lg lg:rounded-xl border border-gray-200 p-4 lg:p-6",children:[(0,g.jsx)("h2",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6",children:"Integrations"}),(0,g.jsx)("div",{className:"space-y-3",children:(0,g.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-medium text-gray-900",children:"Google Drive"}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Connect to upload and access your files"})]}),(0,g.jsx)("button",{onClick:async()=>{try{ze(!0);const{data:e}=await c.A.get("/api/integrations/google-drive/auth");null!==e&&void 0!==e&&e.url?window.location.href=e.url:(d.Ay.error("Failed to start Google Drive auth"),ze(!1))}catch(s){var e,t;console.error("Google Drive auth error:",s),d.Ay.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Google Drive auth failed"),ze(!1)}},disabled:Pe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Pe?"Connecting...":"Connect"})]})})]})]})})]}),(0,g.jsx)(b,{isOpen:B,videoFiles:R,onClose:()=>{U(!1)},onProcessVideo:ht}),(0,g.jsx)(ie,{isOpen:$,videoTitle:null===se||void 0===se?void 0:se.title,status:null===ne||void 0===ne?void 0:ne.status,progress:null===ne||void 0===ne?void 0:ne.progress,errorMessage:null===ne||void 0===ne?void 0:ne.errorMessage,onClose:()=>Q(!1)}),oe&&(0,g.jsx)(G,{isOpen:oe,onClose:()=>be(!1),socialMediaData:fe,onSave:async e=>{try{const t=localStorage.getItem("token");await c.A.put("/api/users/social-media",e,{headers:{Authorization:"Bearer ".concat(t)}}),ve(e),be(!1),d.Ay.success("Social media links updated successfully!")}catch(t){console.error("Error updating social media:",t),d.Ay.error("Failed to update social media links")}}}),Ae&&Se&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:st,children:(0,g.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,g.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,g.jsx)("h2",{className:"text-xl font-semibold text-gray-900 flex-1 mr-4 break-words",children:Se.title||Se.filename}),(0,g.jsx)("button",{onClick:st,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,g.jsx)(u.A,{className:"w-6 h-6 text-gray-500"})})]}),(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsx)("div",{className:"w-full h-96 bg-gray-100 rounded-xl overflow-hidden mb-6 flex items-center justify-center",children:"ready"===Se.status||"completed"===Se.status?(0,g.jsx)(g.Fragment,{children:Te?(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,g.jsx)(ce,{className:"w-12 h-12 animate-spin mb-4"}),(0,g.jsx)("p",{className:"text-lg font-medium",children:"Loading video..."})]}):De?(0,g.jsx)("video",{controls:!0,src:De,className:"w-full h-full object-cover",onError:e=>{console.error("Video playback error:",e)}}):(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,g.jsx)(te.A,{className:"w-12 h-12 mb-4"}),(0,g.jsx)("p",{className:"text-lg font-medium",children:"Failed to load video"})]})}):(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,g.jsx)(pe.A,{className:"w-12 h-12 mb-4"}),(0,g.jsx)("p",{className:"text-lg font-medium",children:"processing"===Se.status?"Video is being processed...":"failed"===Se.status?"Video processing failed":"Video preview not available"})]})}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,g.jsx)("span",{className:"text-gray-600 font-medium",children:"Status:"}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"processing":return(0,g.jsx)(re,{className:"w-4 h-4 text-yellow-500"});case"ready":case"completed":return(0,g.jsx)(ee.A,{className:"w-4 h-4 text-green-500"});case"failed":return(0,g.jsx)(te.A,{className:"w-4 h-4 text-red-500"});default:return(0,g.jsx)(re,{className:"w-4 h-4 text-gray-500"})}})(Se.status),(0,g.jsx)("span",{className:"font-semibold text-gray-900 capitalize",children:Se.status})]})]}),(0,g.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,g.jsx)("span",{className:"text-gray-600 font-medium",children:"Uploaded:"}),(0,g.jsx)("span",{className:"font-semibold text-gray-900",children:new Date(Se.createdAt).toLocaleDateString()})]}),Se.fileSize&&(0,g.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,g.jsx)("span",{className:"text-gray-600 font-medium",children:"File Size:"}),(0,g.jsx)("span",{className:"font-semibold text-gray-900",children:x(Se.fileSize)})]})]})]}),(0,g.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:["ready"===Se.status&&(0,g.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),s=await c.A.get(et("/api/videos/".concat(e._id,"/stream")),{headers:{Authorization:"Bearer ".concat(t)},responseType:"blob"}),a=new Blob([s.data],{type:"video/mp4"}),r=window.URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=e.filename||"video_".concat(e._id,".mp4"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),d.Ay.success("Video download started")}catch(t){console.error("Download error:",t),d.Ay.error("Failed to download video")}})(Se),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,g.jsx)(he.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Download Video"})]}),(0,g.jsx)("button",{onClick:st,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Close"})]})]})}),je&&Ne&&(0,g.jsx)(ae,{video:Ne,onClose:()=>{we(!1),ke(null)},onSchedule:e=>{console.log("Post scheduled:",e)}})]})}},5613:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5783:()=>{},7104:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7421:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},9855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9940:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(1639).A)("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]])}}]);
//# sourceMappingURL=160.b6d7a845.chunk.js.map