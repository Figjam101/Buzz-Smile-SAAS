/* Parallax star field - CodePen inspired */
/* Note: avoid global html overrides to prevent site-wide layout issues */

/* ---- Star layers ---- */
#stars,
#stars2,
#stars3 {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1; /* above the container glow, below cards */
  pointer-events: none;
  /* Performance hints */
  will-change: background-position, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

#stars {
  background-image: url('../assets/star-tile.svg');
  background-repeat: repeat;
  background-size: 128px 128px;
  animation: animBG1 60s linear infinite;
  opacity: 0.9;
}

#stars2 {
  background-image: url('../assets/star-tile.svg');
  background-repeat: repeat;
  background-size: 192px 192px;
  animation: animBG2 100s linear infinite;
  opacity: 0.8;
}

#stars3 {
  background-image: url('../assets/star-tile.svg');
  background-repeat: repeat;
  background-size: 256px 256px;
  animation: animBG3 140s linear infinite;
  opacity: 0.7;
}

/* Dashboard-specific opacity reduction */
#structure-preview #stars { opacity: 0.36; }
#structure-preview #stars2 { opacity: 0.32; }
#structure-preview #stars3 { opacity: 0.28; }

/* Remove shooting-star ::after for gradient approach */

/* Animate the starfield upward via background-position for all layers */
@keyframes animBG1 { from { background-position: 0 0; } to { background-position: 0 -800px; } }
@keyframes animBG2 { from { background-position: 0 0; } to { background-position: 0 -1200px; } }
@keyframes animBG3 { from { background-position: 0 0; } to { background-position: 0 -1600px; } }
#structure-preview {
  position: relative;
  background: radial-gradient(ellipse at center, #0b1220 0%, #0d1a2b 40%, #090a0f 100%);
  overflow: hidden;
}

#structure-preview::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* soft white inset glow toward center */
  background: radial-gradient(circle at 50% 55%, rgba(255,255,255,0.14) 0%, rgba(255,255,255,0.08) 28%, rgba(255,255,255,0.03) 55%, rgba(255,255,255,0) 75%);
  box-shadow: inset 0 0 220px rgba(255,255,255,0.08);
  z-index: 0;
}

/* Home page: match dashboard background effect */
#home-root {
  position: relative;
  overflow: hidden;
  background: radial-gradient(ellipse at 50% 55%, #0b1220 0%, #0d1a2b 40%, #090a0f 100%);
}

#home-root::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 50% 45%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 30%, rgba(255,255,255,0.015) 55%, rgba(255,255,255,0) 80%);
  box-shadow: inset 0 0 160px rgba(255,255,255,0.04);
  z-index: 0;
}

#home-root #stars { opacity: 0.18; }
#home-root #stars2 { opacity: 0.16; }
#home-root #stars3 { opacity: 0.14; }

/* Glass morph overlay above stars, below text */
#star-glass {
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
  background: rgba(10, 13, 20, 0.28);
  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);
}
#dashboard-sidebar {
  position: fixed;
  left: 0;
  top: 4rem; /* matches top-16 in Tailwind */
  height: calc(100vh - 4rem);
  background: radial-gradient(ellipse at 50% 55%, #0b1220 0%, #0d1a2b 40%, #090a0f 100%);
}

#dashboard-sidebar::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 50% 45%, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.06) 30%, rgba(255,255,255,0.02) 55%, rgba(255,255,255,0) 80%);
  box-shadow: inset 0 0 160px rgba(255,255,255,0.06);
}

/* Header: remove radial gradient; use flat dark background without glow */
#dashboard-header {
  height: 4rem; /* h-16 */
  background: #0b1220;
  overflow: hidden;
}

#dashboard-header::before {
  content: none;
}

/* Dashboard scrollbars: subtle, dark to blend with theme */
#dashboard-main {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: rgba(255,255,255,0.22) rgba(255,255,255,0.06);
}

#dashboard-main::-webkit-scrollbar {
  width: 6px;
}

#dashboard-main::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.06);
}

#dashboard-main::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.22);
  border-radius: 3px;
}

#dashboard-main::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Sidebar scrollbars: match dashboard */
#dashboard-sidebar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.22) rgba(255,255,255,0.06);
}

#dashboard-sidebar::-webkit-scrollbar {
  width: 6px;
}

#dashboard-sidebar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.06);
}

#dashboard-sidebar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.22);
  border-radius: 3px;
}

#dashboard-sidebar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Respect reduced motion preferences to avoid jank on lower-power devices */
@media (prefers-reduced-motion: reduce) {
  #stars, #stars2, #stars3 {
    animation: none !important;
  }
}